<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>PyQt教程 | DDUP</title><meta name="author" content="sunk"><meta name="copyright" content="sunk"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第1章 PyQt5开发环境搭建和配置PyQt5工具可以快速实现简单的界面开发，包括界面设计、布局管理以及业务逻辑实现（信号与槽）。简单说就是使用PyQt5工具可以快速画一个控件摆放整齐、界面整洁有序、布局合理的界面。 本文内容本文主要第1节 PyQt5环境搭建和配置。主要内容包括：  [!TIP] （1）工具版本的选择，包括PyQt版本和Python软件版本。 （2）Python、PyQt5以及Q">
<meta property="og:type" content="article">
<meta property="og:title" content="PyQt教程">
<meta property="og:url" content="http://sunk15.top/2024/11/22/PyQt/PyQt%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="DDUP">
<meta property="og:description" content="第1章 PyQt5开发环境搭建和配置PyQt5工具可以快速实现简单的界面开发，包括界面设计、布局管理以及业务逻辑实现（信号与槽）。简单说就是使用PyQt5工具可以快速画一个控件摆放整齐、界面整洁有序、布局合理的界面。 本文内容本文主要第1节 PyQt5环境搭建和配置。主要内容包括：  [!TIP] （1）工具版本的选择，包括PyQt版本和Python软件版本。 （2）Python、PyQt5以及Q">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://picx.zhimg.com/80/v2-96a3fc0d74273c820e905b571e13c2b4_1440w.png">
<meta property="article:published_time" content="2024-11-22T03:12:20.000Z">
<meta property="article:modified_time" content="2024-11-26T04:35:18.928Z">
<meta property="article:author" content="sunk">
<meta property="article:tag" content="pyqt">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://picx.zhimg.com/80/v2-96a3fc0d74273c820e905b571e13c2b4_1440w.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://sunk15.top/2024/11/22/PyQt/PyQt%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PyQt教程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-11-26 12:35:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://picx.zhimg.com/80/v2-96a3fc0d74273c820e905b571e13c2b4_1440w.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/home.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="DDUP"><span class="site-name">DDUP</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">PyQt教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-22T03:12:20.000Z" title="发表于 2024-11-22 11:12:20">2024-11-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-26T04:35:18.928Z" title="更新于 2024-11-26 12:35:18">2024-11-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/pyqt/">pyqt</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第1章-PyQt5开发环境搭建和配置"><a href="#第1章-PyQt5开发环境搭建和配置" class="headerlink" title="第1章 PyQt5开发环境搭建和配置"></a>第1章 PyQt5开发环境搭建和配置</h1><p>PyQt5工具可以快速实现简单的界面开发，包括界面设计、布局管理以及业务逻辑实现（信号与槽）。简单说就是使用PyQt5工具可以快速画一个控件摆放整齐、界面整洁有序、布局合理的界面。</p>
<h2 id="本文内容"><a href="#本文内容" class="headerlink" title="本文内容"></a>本文内容</h2><p>本文主要第1节 PyQt5环境搭建和配置。主要内容包括：</p>
<blockquote>
<p>[!TIP]</p>
<p>（1）工具版本的选择，包括PyQt版本和Python软件版本。</p>
<p>（2）Python、PyQt5以及Qt Designer工具的安装。Qt<br>Designer是PyQt的可视化GUI设置工具。</p>
<p>（3）PyCharm上配置Qt Designer和PyUIC工具。</p>
</blockquote>
<h3 id="选择PyQt原因"><a href="#选择PyQt原因" class="headerlink" title="选择PyQt原因"></a>选择PyQt原因</h3><p>（1）PyQt可以通过<strong>拖拽实现界面开发</strong>，而不是只能代码实现。这样界面实现效率就高多了。</p>
<p>（2）<strong>控件丰富</strong>。支持跨平台。</p>
<p>（3）方便打包发布。可以利用Pyinstaller打包成二进制文件。在未安装Python软件电脑上运行。</p>
<h3 id="选择Python3和PyQt5原因"><a href="#选择Python3和PyQt5原因" class="headerlink" title="选择Python3和PyQt5原因"></a><strong>选择Python3和PyQt5原因</strong></h3><p>PyQt官网提供了PyQt4和PyQt5两种主流版本。PyQt5不兼容PyQt4。<strong>建议选择PyQt5原因</strong>：</p>
<p>（1）官方对PyQt4不再有重大更新和维护。</p>
<p>（2）PyQt5对一些模块进行了重新构建。同时PyQt5对网页的支持能力更好。</p>
<p>（3）PyQt5支持新式的信号和槽，使用更简单。</p>
<p><strong>选择Python3原因</strong>：PyQt5对Python3支持较好，官方默认只提供支持Python3版本的安装包。如果使用Python2，要自己编译，比较麻烦。</p>
<h2 id="Python3-X软件和PyQt5安装"><a href="#Python3-X软件和PyQt5安装" class="headerlink" title="Python3.X软件和PyQt5安装"></a>Python3.X软件和PyQt5安装</h2><p>（1）Python官网<strong>下载Python3.X<br>32位</strong>最新版本。获取路径：<a href="https://www.python.org/downloads/windows/" target="_blank" rel="noopener nofollow">Python官网</a>，下载32位版本的原因是通常pyqt工具开发完成的程序都需要编译成可执行程序发布。而使用32位额Pyinstaller打包发布exe软件在32位和64位电脑都能运行。如果是64位版本，就只能运行在64位版本电脑。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721073412919-750401655.png" loading="lazy" alt="img"></p>
<p>（2）执行下载的pyhon软件安装。勾选”Add Python3.7 to<br>Path”。其他一路Next安装完成。默认会安装一键式工具pip。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721073612047-672364000.png" loading="lazy" alt="img"></p>
<p>（3）pip工具镜像源配置。配置方法如下：</p>
<p>​a、在cmd窗口下执行echo<br>%HOMEPATH%获取用户家目录，并在该目录下创建pip目录。</p>
<p>​<br>b、在pip目录下创建pip.ini文件。<strong>记住，后缀必须是.ini格式。</strong>并在该文件中写入如下内容。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">global</span>]</span><br><span class="line">index-url = http://pypi.douban.com/simple</span><br><span class="line">[install]</span><br><span class="line">trusted-host = pypi.douban.com</span><br></pre></td></tr></table></figure>

<p>​c、配置完成。执行pip install<br>xlrd测试安装是否成功。如果失败，参考配置指导参考&lt;<a href="https://www.cnblogs.com/linyfeng/p/6261624.html" target="_blank">Python开发环境搭建指导</a>&gt;检查，里面有详细步骤。</p>
<h2 id="PyQt5工具安装"><a href="#PyQt5工具安装" class="headerlink" title="PyQt5工具安装"></a>PyQt5工具安装</h2><p>（1）使用pip工具安装PyQt5工具。执行<strong>pip install PyQt5</strong></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721075207368-1983693859.png" loading="lazy" alt="img"></p>
<p>（2）安装Qt Designer图形界面开发工具。执行<strong>pip install PyQt5-tools</strong></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721075611702-583441191.png" loading="lazy" alt="img"></p>
<p>工具安装完成后的路径在..\Python\Python37-32\Lib\site-packages</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721075805724-1644835044.png" loading="lazy" alt="img"></p>
<p>（3）环境变量配置。将PyQt5-tools的安装目录添加到系统环境变量path。添加路径：我的电脑<br>-&gt;<br>属性-&gt;高级-&gt;系统设置-&gt;高级-&gt;单击环境变量。在系统变量path添加PyQt5-tools完整路径。如下图所示：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721080635684-1466926098.png" loading="lazy" alt="img"></p>
<p>（4）打开cmd窗口，执行designer。其实也可以将designer.exe设置快捷家到桌面。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721214841150-95758582.png" loading="lazy" alt="img"></p>
<p>Qt Designer主界面如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190721083334652-1976019340.png" loading="lazy" alt="img"></p>
<h2 id="PyCharm配置Qt-Designer"><a href="#PyCharm配置Qt-Designer" class="headerlink" title="PyCharm配置Qt Designer"></a>PyCharm配置Qt Designer</h2><p>PyCharm是开发Python程序主流常用的<span class="mark">IDE</span>。为方便调用Qt<br>Designer实现界面开发和编译相应完成，可以在PyCharm配置Qt<br>Designer和PyUIC。</p>
<p>（1）配置Qt Designer。<span class="mark">PyCharm</span> -&gt; 菜单File -&gt;<br>Settings -&gt; Tools -&gt; External Tools -&gt; +号，进行添加。 参数配置说明：</p>
<p><strong>Name</strong>：Qt Designer。方便记忆。实际可以任意取值。</p>
<p><strong>Program</strong>：designer.exe程序绝对路径。根据实际安装路径填写。</p>
<p><strong>Parameters</strong>：<span class="math inline">\FileDir\</span>$FileName$。固定取值。</p>
<p><strong>Working directory</strong>:<br><span class="math inline">\FileDir\</span>。固定取值。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722064203005-266150165.png" loading="lazy" alt="img"></p>
<p>（2）配置PyUIC。该工具是用于将Qt<br>Designer工具开发完成的.ui文件转化为.py文件。配置打开路径同Qt<br>Designer。参数配置说明：</p>
<p><strong>Name</strong>：PyUIC。方便记忆。实际可以任意取值。</p>
<p><strong>Program</strong>：python.exe程序绝对路径。根据实际安装路径填写。</p>
<p><strong>Parameters</strong>：-m PyQt5.uic.pyuic<br><span class="math inline">\FileName\</span> -o<br><span class="math inline">\FileNameWithoutExtension\</span>.py。固定取值。</p>
<p><strong>Working</strong> <strong>directory</strong>:<br><span class="math inline">\FileDir\</span>。固定取值。</p>
<p><strong>命令行工具：python -m PyQt5.uic.pyuic demo.ui -o demo.py</strong></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722065557599-899785310.png" loading="lazy" alt="img"></p>
<p>（3）测试Qt<br>Designer和PyUIC配置是否成功。打开路径：菜单栏<span class="mark">Tools</span><br>-&gt; External Tools -&gt;Qt Designer&#x2F;PyUIC</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722065826163-1605995583.png" loading="lazy" alt="img"></p>
<p>点击Qt Designer，打开Designer程序主界面如下。将左侧Widget Box中Push<br>button空间拖到主界面，双击空间修改名称为test。另存为名称work.ui。默认后缀就是.ui。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722065940238-837092615.png" loading="lazy" alt="img"></p>
<p>打开PyUIC，自动完成work.ui文件的转换。生成文件名为work.ui。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722070031963-2000684007.png" loading="lazy" alt="img"></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722070106494-741858123.png" loading="lazy" alt="img"></p>
<p>文件转换成功后，可以在project目录中查看。如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190722070630467-46129975.png" loading="lazy" alt="img"></p>
<p>配置成功。完成</p>
<h2 id="命令行打开designer和转换-ui文件"><a href="#命令行打开designer和转换-ui文件" class="headerlink" title="命令行打开designer和转换.ui文件"></a>命令行打开designer和转换.ui文件</h2><p>除了集成到<span class="mark">Pycharm</span>工具使用，也可以采用命令行方式打开<span class="mark">designer</span>和通过命令转换.ui文件为.py文件，我个人习惯使用这种方法。方法如下：</p>
<p>（1）设置<span class="mark">designer</span>为桌面快捷方式。<span class="mark">designer</span>路径在${python安装目录}&#x2F;Lib&#x2F;site-packages&#x2F;pyqt5_tools&#x2F;designer.exe</p>
<p>（2）假设<span class="mark">designer.exe</span>开发完成的界面文件为<span class="mark">work.u</span>i。切换到<span class="mark">work.ui</span>目录并执行如下命令转换：</p>
<p>​<strong>pyuic5</strong> <strong>-o</strong> <strong>work****.py work.ui</strong></p>
<h1 id="第2章-PyQt窗口布局管理Qt-Designer"><a href="#第2章-PyQt窗口布局管理Qt-Designer" class="headerlink" title="第2章 PyQt窗口布局管理Qt Designer"></a>第2章 PyQt窗口布局管理Qt Designer</h1><p>这节课很重要。。界面整洁美观与否就看布局了。。这里讲布局方法，至于设计的天赋与最终界面的美感那就看造化了。。</p>
<p>本文主要讲述<span class="mark">Qt<br>Designer</span>工具实现界面控件布局管理，就是排列组合控件。包括水平布局、垂直布局、网格布局、表单布局。至于绝对布局太复杂。。短期内hold不住</p>
<h2 id="布局管理打开方法"><a href="#布局管理打开方法" class="headerlink" title="布局管理打开方法"></a>布局管理打开方法</h2><p>方法一：Qt Designer -&gt; Form菜单栏</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728165826215-1811685097.png" loading="lazy" alt="img"></p>
<p>方法二：右键单击主窗口 -&gt; Lay out</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728170137248-867764122.png" loading="lazy" alt="img"></p>
<h2 id="四种布局管理介绍"><a href="#四种布局管理介绍" class="headerlink" title="四种布局管理介绍"></a>四种布局管理介绍</h2><p>（1）水平布局 Lay Out<br>Horizontally：被选中的控件在水平方向上从左到右排列。杂乱无章的四个控件水平布局后效果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728170409812-1982615222.png" loading="lazy" alt="img"></p>
<p>（2）垂直布局 Lay Out<br>Vertically：被选中的控件在垂直方向上依次排列。杂乱无章的四个控件垂直排列后效果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728170457623-1330026175.png" loading="lazy" alt="img"></p>
<p>（3）表单布局Lay Out in a<br>Form：控件以2列的形式布局在表单中。左列包含标签（label），右列包含输入控件。<br>用户名和密码相关的四个控件组合表单布局。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728171224326-269727551.png" loading="lazy" alt="img"></p>
<p>（4）网格布局 Lay Out in a<br>Grid：网格布局是将窗口分隔成行和列的网格来进行排列。被选中组合的控件以网格的形式排列。参考如下。。好像也不美观。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728170928033-490213232.png" loading="lazy" alt="img"></p>
<h2 id="嵌套布局"><a href="#嵌套布局" class="headerlink" title="嵌套布局"></a>嵌套布局</h2><p>界面控件类型简单可以考虑采用上述四种布局方式进行单一布局。但是控件类型多样化的话就要考虑布局的嵌套了。就是分析控件的特点，采用不同布局方式组合控件。</p>
<p>如下主窗口中用户名+密码的标签+单行输入框控件组合使用表单布局，然后与登录+退出控件使用垂直布局，最后与显示文本框采用网格布局。具体效果如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728185117324-1616556640.png" loading="lazy" alt="img"></p>
<p>注意：组合控件使用的布局如果需要打破布局，可以通过选择组合的控件，然后单击菜单Form<br>-&gt; Break Layout方式进行打破布局。实际上使用撤销也可以。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190728185533791-1915276477.png" loading="lazy" alt="img"></p>
<h2 id="绝对布局管理"><a href="#绝对布局管理" class="headerlink" title="绝对布局管理"></a>绝对布局管理</h2><p>某些时候采用布局管理工具完成的界面设置并不满足你的要求，可以考虑修改控件geometry属性相对坐标及长、框的方式进行对齐。geometry属性在PyQt中主要用来设置控件在窗口中的绝对坐标与控件自身的大小。如下图所示。对于包含控件类型及个数不多的界面可以考虑采用这种方式。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190804221120066-64435502.png" loading="lazy" alt="img"></p>
<p>下面针对这几个控件的对齐简单描述一下。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190804221833205-147054589.png" loading="lazy" alt="img"></p>
<p>第一行中**”获取整数”<strong>按钮与</strong>“lineEdit”**两个控件对齐：控件Y轴数值、Height长度值保持一致。控件间隔通过计算获取。这里两个控件间隔为150-80-50&#x3D;30</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190804222003437-1958232981.png" loading="lazy" alt="img"></p>
<p>第一列**”获取整数”<strong>和</strong>“获取字符串”<strong>控件对齐：保持X轴数值、Width数值一致。列间间距为80-31-30&#x3D;19。这样</strong>“获取列表选项”**控件也以间距19保持即可。</p>
<p>是不是很简单？如果觉得布局管理出来效果不好，就动手尝试一下这种方法把。。</p>
<h2 id="其他布局管理"><a href="#其他布局管理" class="headerlink" title="其他布局管理"></a>其他布局管理</h2><p>1、采用绝对布局的方式进行控件布局。但是这种上手难度比较大，后面在实践过程中遇到有好的方法可以针对Qt界面布局管理后的效果进行优化的再补充介绍。</p>
<p>2、修改控件属性。通过修改控件的属性，比如最小尺寸、最大尺寸、长、宽、字体等等。比如我想针对小工具的需求我会经常使用固定最小尺寸、最大尺寸保持一致的方式，使主窗口及控件不受拉伸影响。</p>
<h1 id="第3章-PyQt5信号与槽"><a href="#第3章-PyQt5信号与槽" class="headerlink" title="第3章 PyQt5信号与槽"></a>第3章 PyQt5信号与槽</h1><p><span class="mark">信号</span>和<span class="mark">槽</span>是PyQt编程对象之间进行通信的机制。每个继承自QWideget的控件都支持信号与槽机制。信号发射时（发送请求），连接的槽函数就会自动执行（针对请求进行处理）。本文主要讲述信号和槽最基本、最经常使用方法。就是内置信号和槽的使用的使用方法。</p>
<h2 id="内置信号和槽"><a href="#内置信号和槽" class="headerlink" title="内置信号和槽"></a>内置信号和槽</h2><p>所谓内置信号与槽的使用。是指在发射信号时，使用窗口控件的函数，而不是自定义的函数。信号与槽的连接方法是通过QObject.signal.connect将一个QObject的信号连接到另一个QObject的槽函数。</p>
<p>在任何GUI设计中，按钮都是最重要的和常用的触发动作请求的方式，用来与用户进行交互操作。常见的按钮包括QPushButton、QRadioButton和QCheckBox。这些按钮都继承自QAbstractButton类，QAbstractButton提供的信号包括：</p>
<p><span class="mark">Clicked</span>：鼠标左键点击按钮并释放触发该信号。最常用。记住这个就差不多够了。</p>
<p><span class="mark">Pressed</span>：鼠标左键按下时触发该信号</p>
<p><span class="mark">Released</span>：鼠标左键释放时触发该信号</p>
<p><span class="mark">Toggled</span>：控件标记状态发生改变时触发该信号。</p>
<h2 id="内置信号和槽使用实例"><a href="#内置信号和槽使用实例" class="headerlink" title="内置信号和槽使用实例"></a>内置信号和槽使用实例</h2><p>这里实现一个点击按钮退出界面需求实现过程来介绍内置信号和槽。开始动手。。。</p>
<p><span class="mark">Step1</span>：打开Qt<br>Designer，选择Widget模板。在工具箱中拖动Push<br>Button控件按钮到主界面。并修改控件显示名称。保存为singal.ui。界面如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190801073058089-477620333.png" loading="lazy" alt="img"></p>
<p><span class="mark">Step2</span>：使用<span class="mark">pyuic5 -o<br>singal.py singal.u</span>i转换成.py格式。</p>
<p><span class="mark">Step3</span>：为考虑介绍方便，将调用程序在<span class="mark">singal.py</span>中主程序。其中<span class="mark">MyMainForm</span>类中的命令行为Push<br>Button按钮点击信号添加槽函数。如下</p>
<p><strong>self.pushButton.clicked.connect(self.close)</strong></p>
<p>完整代码如下（可直接拷贝运行，字体加粗部分为添加部分）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;signal.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.11.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">431</span>, <span class="number">166</span>)</span><br><span class="line">        self.pushButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.pushButton.setGeometry(QtCore.QRect(<span class="number">160</span>, <span class="number">50</span>, <span class="number">91</span>, <span class="number">41</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setFamily(<span class="string">&quot;YaHei Consolas Hybrid&quot;</span>)</span><br><span class="line">        font.setPointSize(<span class="number">14</span>)</span><br><span class="line">        self.pushButton.setFont(font)</span><br><span class="line">        self.pushButton.setObjectName(<span class="string">&quot;pushButton&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;信号与槽&quot;</span>))</span><br><span class="line">        self.pushButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;关闭&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.pushButton.clicked.connect(self.close)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p>运行并点击如下按钮就可以关闭窗口</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190731075157107-545802423.png" loading="lazy" alt="img"></p>
<p>内置信号和自定义槽使用实例</p>
<p>实现过程同上述步骤一样。槽函数<span class="mark">showMsg</span>为自定义函数。</p>
<p>信号与槽：<span class="mark"><strong>self.pushButton.clicked.connect(self.showMsg)</strong></span></p>
<p>完整代码如下（可直接拷贝运行，字体加粗部分为添加部分）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;signal.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.11.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">431</span>, <span class="number">166</span>)</span><br><span class="line">        self.pushButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.pushButton.setGeometry(QtCore.QRect(<span class="number">160</span>, <span class="number">50</span>, <span class="number">91</span>, <span class="number">41</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setFamily(<span class="string">&quot;YaHei Consolas Hybrid&quot;</span>)</span><br><span class="line">        font.setPointSize(<span class="number">14</span>)</span><br><span class="line">        self.pushButton.setFont(font)</span><br><span class="line">        self.pushButton.setObjectName(<span class="string">&quot;pushButton&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;信号与槽&quot;</span>))</span><br><span class="line">        self.pushButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;运行&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.pushButton.clicked.connect(self.showMsg)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showMsg</span>(<span class="params">self</span>):</span><br><span class="line">        QMessageBox.information(self, <span class="string">&quot;信息提示框&quot;</span>, <span class="string">&quot;OK,内置信号与自定义槽函数！&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p>运行结果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190731074646624-796827969.png" loading="lazy" alt="img"></p>
<h2 id="Qt-Designer添加控件信号与槽"><a href="#Qt-Designer添加控件信号与槽" class="headerlink" title="Qt Designer添加控件信号与槽"></a>Qt Designer添加控件信号与槽</h2><p>上述介绍的内容是通过代码方式实现内置信号与槽的连接。那Qt<br>Designer工具可以实现信号与槽的连接？之前在第二节课Qt<br>Designer主界面介绍时提过信号槽区域。一直没有讲如何使用。通过这个区域功能是可以实现信号与槽的连接的。</p>
<p>还是以添加内置信号与槽来介绍。</p>
<p><span class="mark">Step1</span>：打开Qt<br>Designer界面，找到信号槽编辑区。如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190801074858994-2021158042.png" loading="lazy" alt="img"></p>
<p><span class="mark">Step2</span>：点击+号<br>Sender控件选择”PushButton”、Signal信号选择”clicked”，Receiver选择”Form”，内置槽函数选择”close()”</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190801074953985-1210211538.png" loading="lazy" alt="img"></p>
<p><span class="mark">Step3</span>：保存.ui格式，并使用pyuic转换成.py格式，添加调用程序，运行。效果一样。这些步骤都介绍过，不再重复介绍，关键代码如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190801075327732-1487709.png" loading="lazy" alt="img"></p>
<h1 id="第4章-PyQt5基本控件使用-单选按钮、复选框、下拉框、文本框"><a href="#第4章-PyQt5基本控件使用-单选按钮、复选框、下拉框、文本框" class="headerlink" title="第4章 PyQt5基本控件使用:单选按钮、复选框、下拉框、文本框"></a>第4章 PyQt5基本控件使用:单选按钮、复选框、下拉框、文本框</h1><p>本文主要介绍PyQt5界面最基本使用的单选按钮、复选框、下拉框三种控件的使用方法进行介绍。</p>
<p>1、RadioButton单选按钮&#x2F;CheckBox复选框。需要知道如何判断单选按钮是否被选中。</p>
<p>2、ComboBox下拉框。需要知道如何对下拉框中的取值进行设置以及代码实现中如何获取用户选中的值。</p>
<p>带着这些问题下面开始介绍这RadioButton单选按钮、CheckBox复选框、ComboBox下拉框三种基本控件的使用方法</p>
<h2 id="QRadioButton单选按钮"><a href="#QRadioButton单选按钮" class="headerlink" title="QRadioButton单选按钮"></a>QRadioButton单选按钮</h2><p>单选按钮为用户提供<strong>多选一</strong>的选择，是一种开关按钮。<span class="mark">QRadioButton</span>单选按钮是否选择状态通过<span class="mark">isChecked()</span>方法判断。<span class="mark">isChecked()</span>方法返回值True表示选中，False表示未选中。</p>
<h3 id="RadioButton示例完整代码如下："><a href="#RadioButton示例完整代码如下：" class="headerlink" title="RadioButton示例完整代码如下："></a><strong>RadioButton示例完整代码如下：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox, QRadioButton</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">309</span>, <span class="number">126</span>)</span><br><span class="line">        self.radioButton = QtWidgets.QRadioButton(Form)</span><br><span class="line">        self.radioButton.setGeometry(QtCore.QRect(<span class="number">70</span>, <span class="number">40</span>, <span class="number">89</span>, <span class="number">16</span>))</span><br><span class="line">        self.radioButton.setObjectName(<span class="string">&quot;radioButton&quot;</span>)</span><br><span class="line">        self.okButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.okButton.setGeometry(QtCore.QRect(<span class="number">70</span>, <span class="number">70</span>, <span class="number">75</span>, <span class="number">23</span>))</span><br><span class="line">        self.okButton.setObjectName(<span class="string">&quot;okButton&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;RadioButton单选按钮例子&quot;</span>))</span><br><span class="line">        self.radioButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;单选按钮&quot;</span>))</span><br><span class="line">        self.okButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;确定&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.okButton.clicked.connect(self.checkRadioButton)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkRadioButton</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.radioButton.isChecked():</span><br><span class="line">            QMessageBox.information(self,<span class="string">&quot;消息框标题&quot;</span>,<span class="string">&quot;我RadioButton按钮被选中啦！&quot;</span>,QMessageBox.Yes | QMessageBox.No)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="运行结果如下："><a href="#运行结果如下：" class="headerlink" title="运行结果如下："></a><strong>运行结果如下：</strong></h3><p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803104343702-1153275014.png" loading="lazy" alt="img"></p>
<p><strong>关键代码介绍：</strong></p>
<p><strong>self.radioButton.isChecked()</strong> –&gt;<br>用于判断RadioButton控件是否被选中。返回值Trule表示按钮被选中，False表示按钮未选中。</p>
<h2 id="QCheckBox复选框"><a href="#QCheckBox复选框" class="headerlink" title="QCheckBox复选框"></a>QCheckBox复选框</h2><p>复选框和单选按钮一样都是选项按钮，区别是复选框为用户提供<strong>多选多</strong>的选择。复选框按钮同样是使用isChecked()方法判断是否被选中。</p>
<h3 id="CheckBox例子完整代码如下："><a href="#CheckBox例子完整代码如下：" class="headerlink" title="CheckBox例子完整代码如下："></a><strong>CheckBox例子完整代码如下：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox, QCheckBox</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">380</span>, <span class="number">154</span>)</span><br><span class="line">        self.freshcheckBox = QtWidgets.QCheckBox(Form)</span><br><span class="line">        self.freshcheckBox.setGeometry(QtCore.QRect(<span class="number">50</span>, <span class="number">40</span>, <span class="number">71</span>, <span class="number">31</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">14</span>)</span><br><span class="line">        self.freshcheckBox.setFont(font)</span><br><span class="line">        self.freshcheckBox.setObjectName(<span class="string">&quot;freshcheckBox&quot;</span>)</span><br><span class="line">        self.bearcheckBox = QtWidgets.QCheckBox(Form)</span><br><span class="line">        self.bearcheckBox.setGeometry(QtCore.QRect(<span class="number">140</span>, <span class="number">40</span>, <span class="number">71</span>, <span class="number">31</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">14</span>)</span><br><span class="line">        self.bearcheckBox.setFont(font)</span><br><span class="line">        self.bearcheckBox.setObjectName(<span class="string">&quot;bearcheckBox&quot;</span>)</span><br><span class="line">        self.okButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.okButton.setGeometry(QtCore.QRect(<span class="number">230</span>, <span class="number">40</span>, <span class="number">71</span>, <span class="number">31</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">14</span>)</span><br><span class="line">        self.okButton.setFont(font)</span><br><span class="line">        self.okButton.setObjectName(<span class="string">&quot;okButton&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;CheckBox例子&quot;</span>))</span><br><span class="line">        self.freshcheckBox.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;鱼&quot;</span>))</span><br><span class="line">        self.bearcheckBox.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;熊掌&quot;</span>))</span><br><span class="line">        self.okButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;确定&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.okButton.clicked.connect(self.checkCheckBox)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkCheckBox</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.freshcheckBox.isChecked() <span class="keyword">and</span> self.bearcheckBox.isChecked():</span><br><span class="line">            QMessageBox.information(self,<span class="string">&quot;消息框标题&quot;</span>,<span class="string">&quot;鱼和熊掌我要兼得！&quot;</span>,QMessageBox.Yes | QMessageBox.No)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="运行结果如下：-1"><a href="#运行结果如下：-1" class="headerlink" title="运行结果如下："></a><strong>运行结果如下：</strong></h3><p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803105955429-341890867.png" loading="lazy" alt="img"></p>
<p><strong>关键代码介绍：</strong></p>
<p><strong><span class="mark">self.freshcheckBox.isChecked()</span> and<br><span class="mark">self.bearcheckBox.isChecked()</span> –&gt;</strong><br>同样适用<span class="mark">isChecked()</span>函数判断。</p>
<h2 id="QComboBox下拉列表框"><a href="#QComboBox下拉列表框" class="headerlink" title="QComboBox下拉列表框"></a>QComboBox下拉列表框</h2><p>下拉列表框是一个集按钮和下拉选项于一体的控件。通常用于固定的枚举值供用户选择时使用。对于下拉列表框的使用最基本的是要知道如何添加下拉列表框中的值以及如何获取下拉框中选择的值。</p>
<p>（1）<strong>如何添加下拉列表框中的值。</strong></p>
<p>1、使用addItem() 添加一个下拉选项或者additems() 从列表中添加下拉选项<br>方法进行添加。</p>
<p>2、如果使用Qt<br>Designer画图实现，可以将ComboBox控件添加到主界面后双击下拉列表框进行打开添加。如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803110632141-2107466794.png" loading="lazy" alt="img"></p>
<p><strong>（2）如何获取下拉框中的取值</strong></p>
<p>使用函数<span class="mark">currentText()</span>返回选项中的文本进行获取</p>
<h3 id="ComboBox示例完整代码如下："><a href="#ComboBox示例完整代码如下：" class="headerlink" title="ComboBox示例完整代码如下："></a><strong>ComboBox示例完整代码如下：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox, QComboBox</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">400</span>, <span class="number">130</span>)</span><br><span class="line">        self.comboBox = QtWidgets.QComboBox(Form)</span><br><span class="line">        self.comboBox.setGeometry(QtCore.QRect(<span class="number">80</span>, <span class="number">50</span>, <span class="number">69</span>, <span class="number">22</span>))</span><br><span class="line">        self.comboBox.setObjectName(<span class="string">&quot;comboBox&quot;</span>)</span><br><span class="line">        self.comboBox.addItem(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.comboBox.addItem(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.comboBox.addItem(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.comboBox.addItem(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.okButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.okButton.setGeometry(QtCore.QRect(<span class="number">190</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">23</span>))</span><br><span class="line">        self.okButton.setObjectName(<span class="string">&quot;okButton&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;ComboBox下拉框例子&quot;</span>))</span><br><span class="line">        self.comboBox.setItemText(<span class="number">0</span>, _translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Python&quot;</span>))</span><br><span class="line">        self.comboBox.setItemText(<span class="number">1</span>, _translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;C++&quot;</span>))</span><br><span class="line">        self.comboBox.setItemText(<span class="number">2</span>, _translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Go&quot;</span>))</span><br><span class="line">        self.comboBox.setItemText(<span class="number">3</span>, _translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Java&quot;</span>))</span><br><span class="line">        self.okButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;确定&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.okButton.clicked.connect(self.getComboxBoxValue)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getComboxBoxValue</span>(<span class="params">self</span>):</span><br><span class="line">        select_value = self.comboBox.currentText()</span><br><span class="line">        QMessageBox.information(self,<span class="string">&quot;消息框标题&quot;</span>,<span class="string">&quot;你要学%s,为师给你说道说道！&quot;</span> % (select_value,),QMessageBox.Yes | QMessageBox.No)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="运行结果如下：-2"><a href="#运行结果如下：-2" class="headerlink" title="运行结果如下："></a><strong>运行结果如下：</strong></h3><p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803111506531-784673945.png" loading="lazy" alt="img"></p>
<p><strong>关键代码介绍：</strong></p>
<p>select_value &#x3D; self.comboBox.currentText() –&gt;<br>使用currentText()函数获取下拉框中选择的值</p>
<h2 id="文本框控件（QLineEdit、QTextEdit）"><a href="#文本框控件（QLineEdit、QTextEdit）" class="headerlink" title="文本框控件（QLineEdit、QTextEdit）"></a>文本框控件（QLineEdit、QTextEdit）</h2><p>文本框控件分为单行文本框（QLineEdit）和多行文本框（QTextEdit）。单行文本框只允许输入一行字符串。多行文本框可以显示多行文本内容，当文本内容超出控件显示范围时，可以显示水平和垂直滚动条。</p>
<p>针对文本框控件，这里主要了解文本框内容的设置、获取以及清除三种主要方法。单行文本框和多行文本框的设置和获取方法不同，如下。</p>
<p><strong>单行文本框（QLineEdit）方法如下：</strong></p>
<p>setText()：设置单行文本框内容。</p>
<p>Text():返回文本框内容</p>
<p>clear()：清除文本框内容</p>
<p><strong>多行文本框（QTextEdit）方法如下：</strong></p>
<p>setPlainText()：设置多行文本框的文本内容。</p>
<p>toPlainText()：获取多行文本框的文本内容。</p>
<p>clear()：清除多行文本框的内容</p>
<h3 id="文本框使用实例如下："><a href="#文本框使用实例如下：" class="headerlink" title="文本框使用实例如下："></a><strong>文本框使用实例如下：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox, QComboBox</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">411</span>, <span class="number">314</span>)</span><br><span class="line">        self.lineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.lineEdit.setGeometry(QtCore.QRect(<span class="number">120</span>, <span class="number">50</span>, <span class="number">251</span>, <span class="number">41</span>))</span><br><span class="line">        self.lineEdit.setObjectName(<span class="string">&quot;lineEdit&quot;</span>)</span><br><span class="line">        self.lineedit_label = QtWidgets.QLabel(Form)</span><br><span class="line">        self.lineedit_label.setGeometry(QtCore.QRect(<span class="number">10</span>, <span class="number">60</span>, <span class="number">81</span>, <span class="number">20</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">11</span>)</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.lineedit_label.setFont(font)</span><br><span class="line">        self.lineedit_label.setObjectName(<span class="string">&quot;lineedit_label&quot;</span>)</span><br><span class="line">        self.textEdit = QtWidgets.QTextEdit(Form)</span><br><span class="line">        self.textEdit.setGeometry(QtCore.QRect(<span class="number">120</span>, <span class="number">120</span>, <span class="number">251</span>, <span class="number">141</span>))</span><br><span class="line">        self.textEdit.setObjectName(<span class="string">&quot;textEdit&quot;</span>)</span><br><span class="line">        self.textedit_label = QtWidgets.QLabel(Form)</span><br><span class="line">        self.textedit_label.setGeometry(QtCore.QRect(<span class="number">13</span>, <span class="number">180</span>, <span class="number">81</span>, <span class="number">31</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">11</span>)</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.textedit_label.setFont(font)</span><br><span class="line">        self.textedit_label.setObjectName(<span class="string">&quot;textedit_label&quot;</span>)</span><br><span class="line">        self.run_Button = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.run_Button.setGeometry(QtCore.QRect(<span class="number">150</span>, <span class="number">280</span>, <span class="number">91</span>, <span class="number">31</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">11</span>)</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.run_Button.setFont(font)</span><br><span class="line">        self.run_Button.setObjectName(<span class="string">&quot;run_Button&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;TextEdit_Example&quot;</span>))</span><br><span class="line">        self.lineedit_label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;LineEdit&quot;</span>))</span><br><span class="line">        self.textedit_label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;TextEdit&quot;</span>))</span><br><span class="line">        self.run_Button.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Run&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.run_Button.clicked.connect(self.set_display_edit)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_display_edit</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">#设置前先清除文本内容</span></span><br><span class="line">        self.lineEdit.clear()</span><br><span class="line">        self.textEdit.clear()</span><br><span class="line"></span><br><span class="line">        <span class="comment">#设置文本框内容</span></span><br><span class="line">        self.lineEdit.setText(<span class="string">&quot;Lineedit contents&quot;</span>)</span><br><span class="line">        self.textEdit.setPlainText(<span class="string">&quot;Textedit contents&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#获取文本框内容，并弹框显示内容</span></span><br><span class="line">        str1 = self.lineEdit.text()</span><br><span class="line">        str2 = self.textEdit.toPlainText()</span><br><span class="line">        QMessageBox.information(self,<span class="string">&quot;获取信息&quot;</span>,<span class="string">&quot;LineEdit文本框内容为:%s,TextEdit文本框内容为：%s&quot;</span> %(str1,str2))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="运行结果如下：-3"><a href="#运行结果如下：-3" class="headerlink" title="运行结果如下："></a><strong>运行结果如下：</strong></h3><p><strong><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190914081307356-2097616620.png" loading="lazy" alt="img"></strong></p>
<h3 id="关键代码如下："><a href="#关键代码如下：" class="headerlink" title="关键代码如下："></a><strong>关键代码如下：</strong></h3><pre><code>    def set_display_edit(self):
        #设置前先清除文本内容
        self.lineEdit.clear()
        self.textEdit.clear()

        #设置文本框内容
        self.lineEdit.setText(&quot;Lineedit contents&quot;)
        self.textEdit.setPlainText(&quot;Textedit contents&quot;)

        #获取文本框内容，并弹框显示内容
        str1 = self.lineEdit.text()
        str2 = self.textEdit.toPlainText()
        QMessageBox.information(self,&quot;获取信息&quot;,&quot;LineEdit文本框内容为:%s,TextEdit文本框内容为：%s&quot; %(str1,str2))
</code></pre>
<h1 id="第5章-PyQt5基本控件使用-消息弹出、用户输入、文件-x2F-目录选择对话框"><a href="#第5章-PyQt5基本控件使用-消息弹出、用户输入、文件-x2F-目录选择对话框" class="headerlink" title="第5章 PyQt5基本控件使用:消息弹出、用户输入、文件&#x2F;目录选择对话框"></a>第5章 PyQt5基本控件使用:消息弹出、用户输入、文件&#x2F;目录选择对话框</h1><p>本章主要介绍PyQt界面实现中常用的消息弹出对话框、提供用户输入的输入框、打开文件获取文件&#x2F;目录路径的文件对话框。学习这三种控件前，先想一下它们使用的主要场景：</p>
<p>1、消息弹出对话框。程序遇到问题需要退出需要弹出错误提示框<br>、程序执行可能造成的风险需要弹出警告窗口提示用户是否进一步执行等等。</p>
<p>2、用户输入框。比如常见的让用户选择执行的程序分支、yes&#x2F;no等等。</p>
<p>3、文件对话框。获取本地文件或者文件夹的完整路径甚至是直接打开文件显示文件内容。</p>
<p>本文主要针对这三种控件的主要场景进行介绍。</p>
<h2 id="QMessageBox：弹出消息对话框控件"><a href="#QMessageBox：弹出消息对话框控件" class="headerlink" title="QMessageBox：弹出消息对话框控件"></a>QMessageBox：弹出消息对话框控件</h2><p>QMessageBox是一种通用的弹出式对话框，用于显示消息，允许用户通过单击不同的标准按钮对消息进行反馈。弹出式对话框有很多类型，如提示、警告、错误、询问、关于等对话框。这些不同类型的QMessageBox对话框只是显示时图标不同，其他功能一样。</p>
<p><strong>QMessageBox类中常用方法</strong></p>
<p>information(QWdiget<br>parent,title,text,buttons,defaultButton)：弹出消息对话框。</p>
<p>question(QWidget<br>parent,title,text,buttons,defaultButton)：弹出问答对话框</p>
<p>warning(QWidget parent,title,text,buttons,defaultButton)：弹出警告对话框</p>
<p>critical(QWidget<br>parent,title,text,buttons,defaultButton)：弹出严重错误对话框</p>
<p>about(QWidget parent,title,text)：弹出关于对话</p>
<p><strong>参数解释如下：</strong></p>
<p>parent：指定的父窗口控件。</p>
<p>title：表示对话框标题。</p>
<p>text：表示对话框文本。</p>
<p>buttons：表示多个标准按钮，默认为ok按钮。</p>
<p>defaultButton表示默认选中的标准按钮，默认选中第一个标准按钮。</p>
<p><strong>其他方法如下：</strong></p>
<p>setTitle()：设置标题</p>
<p>setText()：设置正文消息</p>
<p>setIcon()：设置弹出对话框的图片</p>
<p><strong>QMessageBox的标准按钮类型</strong></p>
<p>QMessage.Ok 同意操作、QMessage.Cancel 取消操作、QMessage.Yes<br>同意操作、QMessage.No 取消操作、QMessage.Abort 终止操作、QMessage.Retry<br>重试操作、QMessage.Ignore 忽略操作</p>
<h3 id="5种常用的消息对话框及其显示效果"><a href="#5种常用的消息对话框及其显示效果" class="headerlink" title="5种常用的消息对话框及其显示效果"></a><strong>5种常用的消息对话框及其显示效果</strong></h3><p>提前说明：from PyQt5.QtWidgets import <strong>QMessageBox</strong> 导入直接使用</p>
<h4 id="（1）消息对话框，用来告诉用户关于提示信息"><a href="#（1）消息对话框，用来告诉用户关于提示信息" class="headerlink" title="（1）消息对话框，用来告诉用户关于提示信息"></a>（1）消息对话框，用来告诉用户关于提示信息</h4><p>QMessageBox.information(self,<br>‘信息提示对话框’,’前方右拐到达目的地’,QMessageBox.Yes | QMessageBox.No)</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803130840952-562264456.png" loading="lazy" alt="img"></p>
<h4 id="（2）提问对话框，用来告诉用户关于提问消息。"><a href="#（2）提问对话框，用来告诉用户关于提问消息。" class="headerlink" title="（2）提问对话框，用来告诉用户关于提问消息。"></a>（2）提问对话框，用来告诉用户关于提问消息。</h4><p>QMessageBox.question(self, “提问对话框”, “你要继续搞测试吗？”,<br>QMessageBox.Yes | QMessageBox.No)</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803130929590-2126905760.png" loading="lazy" alt="img"></p>
<p><strong>特别注意Tips：</strong><br><strong>对于提问对话框，需要根据用户选择Yes或者No进行下一步判断，可以获取按钮点击的返回值进行判断，选择NO的返回值为65536，选择Yes的返回值为其他</strong>。。示例如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901073917520-232369572.png" loading="lazy" alt="img"></p>
<h4 id="（3）警告对话框，用来告诉用户关于不寻常的错误消息。"><a href="#（3）警告对话框，用来告诉用户关于不寻常的错误消息。" class="headerlink" title="（3）警告对话框，用来告诉用户关于不寻常的错误消息。"></a>（3）警告对话框，用来告诉用户关于不寻常的错误消息。</h4><p>QMessageBox.warning(self, “警告对话框”,<br>“继续执行会导致系统重启，你确定要继续？”, QMessageBox.Yes |<br>QMessageBox.No)</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803131029955-1482217950.png" loading="lazy" alt="img"></p>
<h4 id="（4）严重错误对话框，用来告诉用户关于程序执行失败的严重的错误消息。"><a href="#（4）严重错误对话框，用来告诉用户关于程序执行失败的严重的错误消息。" class="headerlink" title="（4）严重错误对话框，用来告诉用户关于程序执行失败的严重的错误消息。"></a>（4）严重错误对话框，用来告诉用户关于程序执行失败的严重的错误消息。</h4><p>QMessageBox.critical(self, “严重错误对话框”, “数组越界，程序异常退出”,<br>QMessageBox.Yes | QMessageBox.No)</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803131109046-1975905633.png" loading="lazy" alt="img"></p>
<h4 id="（5）关于对话框"><a href="#（5）关于对话框" class="headerlink" title="（5）关于对话框"></a>（5）关于对话框</h4><p>QMessageBox.about(self, “关于对话框”, “你的Windows系统是DOS1.0”)</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803131147405-359711040.png" loading="lazy" alt="img"></p>
<p><strong>上述程序完整代码如下：</strong></p>
<pre><code># -*- coding: utf-8 -*-

import sys
from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QApplication, QMainWindow, QMessageBox

class Ui_Form(object):
    def setupUi(self, Form):
        Form.setObjectName(&quot;Form&quot;)
        Form.resize(431, 166)
        self.pushButton = QtWidgets.QPushButton(Form)
        self.pushButton.setGeometry(QtCore.QRect(160, 50, 91, 41))
        font = QtGui.QFont()
        font.setFamily(&quot;YaHei Consolas Hybrid&quot;)
        font.setPointSize(10)
        self.pushButton.setFont(font)
        self.pushButton.setObjectName(&quot;pushButton&quot;)

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate(&quot;Form&quot;, &quot;对话框&quot;))
        self.pushButton.setText(_translate(&quot;Form&quot;, &quot;弹出对话框&quot;))

class MyMainForm(QMainWindow, Ui_Form):
    def __init__(self, parent=None):
        super(MyMainForm, self).__init__(parent)
        self.setupUi(self)
        self.pushButton.clicked.connect(self.showMsg)

    def showMsg(self):
        QMessageBox.information(self, &#39;信息提示对话框&#39;,&#39;前方右拐到达目的地&#39;,QMessageBox.Yes | QMessageBox.No,QMessageBox.Yes)
        QMessageBox.question(self, &quot;提问对话框&quot;, &quot;你要继续搞测试吗？&quot;, QMessageBox.Yes | QMessageBox.No)
        QMessageBox.warning(self, &quot;警告对话框&quot;, &quot;继续执行会导致系统重启，你确定要继续？&quot;, QMessageBox.Yes | QMessageBox.No)
        QMessageBox.critical(self, &quot;严重错误对话框&quot;, &quot;数组越界，程序异常退出&quot;, QMessageBox.Yes | QMessageBox.No,)
        QMessageBox.about(self, &quot;关于对话框&quot;, &quot;你的Windows系统是DOS1.0&quot;)

if __name__ == &quot;__main__&quot;:
    app = QApplication(sys.argv)
    myWin = MyMainForm()
    myWin.show()
    sys.exit(app.exec_())
</code></pre>
<h3 id="运行结果（顺序弹出以下消息框）。"><a href="#运行结果（顺序弹出以下消息框）。" class="headerlink" title="运行结果（顺序弹出以下消息框）。"></a>运行结果（顺序弹出以下消息框）。</h3><p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901072756356-1584337759.png" loading="lazy" alt="img"></p>
<h3 id="关键代码"><a href="#关键代码" class="headerlink" title="关键代码"></a>关键代码</h3><p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901072139245-486019548.png" loading="lazy" alt="img"></p>
<h2 id="QInputDialog标准对话框控件"><a href="#QInputDialog标准对话框控件" class="headerlink" title="QInputDialog标准对话框控件"></a>QInputDialog标准对话框控件</h2><p>QInputDialog控件是一个标准对话框，用于获取用户输入信息，QInputDialog控件可以提供数字、字符串输入或提供下拉列表选择。</p>
<p>针对QInputDialog对话框控件的使用，<strong>我们主要考虑2个问题</strong>：1、如何在弹出对话框供用户输入，2、如何获取用户输入。</p>
<p><strong>QInputDialog常用方法：</strong></p>
<p>getint()：从输入控件中获得标准整数输入</p>
<p>getDouble()：从输入控件中获得标准浮点数输入</p>
<p>getText()：从输入控件中获得标准字符串的输入</p>
<p>getItem() ：从输入控件中获得列表里的选项输入</p>
<h3 id="完整代码如下（代码可直接复制运行）："><a href="#完整代码如下（代码可直接复制运行）：" class="headerlink" title="完整代码如下（代码可直接复制运行）："></a><strong>完整代码如下（代码可直接复制运行）：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox,QInputDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">382</span>, <span class="number">190</span>)</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setPointSize(<span class="number">9</span>)</span><br><span class="line">        font.setBold(<span class="literal">False</span>)</span><br><span class="line">        font.setWeight(<span class="number">50</span>)</span><br><span class="line">        Form.setFont(font)</span><br><span class="line">        self.GetIntlineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.GetIntlineEdit.setGeometry(QtCore.QRect(<span class="number">150</span>, <span class="number">30</span>, <span class="number">150</span>, <span class="number">31</span>))</span><br><span class="line">        self.GetIntlineEdit.setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.GetIntlineEdit.setObjectName(<span class="string">&quot;GetIntlineEdit&quot;</span>)</span><br><span class="line">        self.GetstrlineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.GetstrlineEdit.setGeometry(QtCore.QRect(<span class="number">150</span>, <span class="number">80</span>, <span class="number">150</span>, <span class="number">31</span>))</span><br><span class="line">        self.GetstrlineEdit.setObjectName(<span class="string">&quot;GetstrlineEdit&quot;</span>)</span><br><span class="line">        self.GetItemlineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.GetItemlineEdit.setGeometry(QtCore.QRect(<span class="number">150</span>, <span class="number">130</span>, <span class="number">150</span>, <span class="number">31</span>))</span><br><span class="line">        self.GetItemlineEdit.setObjectName(<span class="string">&quot;GetItemlineEdit&quot;</span>)</span><br><span class="line">        self.getIntButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.getIntButton.setGeometry(QtCore.QRect(<span class="number">50</span>, <span class="number">30</span>, <span class="number">80</span>, <span class="number">31</span>))</span><br><span class="line">        self.getIntButton.setObjectName(<span class="string">&quot;getIntButton&quot;</span>)</span><br><span class="line">        self.getStrButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.getStrButton.setGeometry(QtCore.QRect(<span class="number">50</span>, <span class="number">80</span>, <span class="number">80</span>, <span class="number">31</span>))</span><br><span class="line">        self.getStrButton.setObjectName(<span class="string">&quot;getStrButton&quot;</span>)</span><br><span class="line">        self.getItemButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.getItemButton.setGeometry(QtCore.QRect(<span class="number">50</span>, <span class="number">130</span>, <span class="number">80</span>, <span class="number">31</span>))</span><br><span class="line">        self.getItemButton.setObjectName(<span class="string">&quot;getItemButton&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;QInputDialog例子&quot;</span>))</span><br><span class="line">        self.getIntButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;获取整数&quot;</span>))</span><br><span class="line">        self.getStrButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;获取字符串&quot;</span>))</span><br><span class="line">        self.getItemButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;获取列表选项&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.getIntButton.clicked.connect(self.getInt)</span><br><span class="line">        self.getStrButton.clicked.connect(self.getStr)</span><br><span class="line">        self.getItemButton.clicked.connect(self.getItem)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getInt</span>(<span class="params">self</span>):</span><br><span class="line">        num, ok = QInputDialog.getInt(self, <span class="string">&#x27;Integer input dialog&#x27;</span>, <span class="string">&#x27;输入数字&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">and</span> num:</span><br><span class="line">           self.GetIntlineEdit.setText(<span class="built_in">str</span>(num))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getStr</span>(<span class="params">self</span>):</span><br><span class="line">        text, ok=QInputDialog.getText(self, <span class="string">&#x27;Text Input Dialog&#x27;</span>, <span class="string">&#x27;输入姓名：&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">and</span> text:</span><br><span class="line">            self.GetstrlineEdit.setText(<span class="built_in">str</span>(text))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getItem</span>(<span class="params">self</span>):</span><br><span class="line">        items=(<span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;C#&#x27;</span>, <span class="string">&#x27;JAva&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>)</span><br><span class="line">        item, ok=QInputDialog.getItem(self, <span class="string">&quot;select input dialog&quot;</span>, <span class="string">&#x27;语言列表&#x27;</span>, items, <span class="number">0</span>, <span class="literal">False</span>)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">and</span> item:</span><br><span class="line">            self.GetItemlineEdit.setText(<span class="built_in">str</span>(item))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p><strong>运行结果如下（会陆续弹出三个输入对话框）：</strong></p>
<p><strong><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901065443937-1853977653.png" loading="lazy" alt="img"></strong></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901065533274-1778836533.png" loading="lazy" alt="img"></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901065559664-1721651095.png" loading="lazy" alt="img"></p>
<h3 id="关键代码介绍："><a href="#关键代码介绍：" class="headerlink" title="关键代码介绍："></a><strong>关键代码介绍：</strong></h3><p><strong>QInputDialog.getInt(self, ‘Integer input dialog’, ‘输入数字’)</strong> -&gt;<br>输入整数对话框</p>
<p><strong>QInputDialog.getText(self, ‘Text Input Dialog’, ‘输入姓名：’)</strong> -&gt;<br>输入字符串对话框</p>
<p><strong>QInputDialog.getItem(self, “select input dialog”, ‘语言列表’, items,<br>0, False)</strong> -&gt; 下拉列表选择对话框</p>
<h2 id="QFileDialog-文件-x2F-目录选择对话框"><a href="#QFileDialog-文件-x2F-目录选择对话框" class="headerlink" title="QFileDialog 文件&#x2F;目录选择对话框"></a>QFileDialog 文件&#x2F;目录选择对话框</h2><p>QFileDialog是用于打开和保存文件的标准对话框。使用QFileDialog控件<strong>主要考虑2个场景</strong>：使用该控件提供用户选择目录或文件，并保存选择目录或文件的路径。简单说就是实现类似word&#x2F;Notepad++文件打开功能。如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190803091202767-243037863.png" loading="lazy" alt="img"></p>
<p>针对上述场景，<strong>QFileDialog控件实现的主要方法</strong>：</p>
<p>QFileDialog.getOpenFileName()：获取单个文件路径</p>
<p>QFileDialog.getOpenFileNames()：获取多个文件路径</p>
<p>QFileDialog.getExistingDirectory()：获取文件夹路径</p>
<h3 id="完整代码如下："><a href="#完整代码如下：" class="headerlink" title="完整代码如下："></a><strong>完整代码如下：</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMessageBox,QInputDialog,QFileDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">443</span>, <span class="number">120</span>)</span><br><span class="line">        self.widget = QtWidgets.QWidget(Form)</span><br><span class="line">        self.widget.setGeometry(QtCore.QRect(<span class="number">50</span>, <span class="number">40</span>, <span class="number">301</span>, <span class="number">25</span>))</span><br><span class="line">        self.widget.setObjectName(<span class="string">&quot;widget&quot;</span>)</span><br><span class="line">        self.horizontalLayout = QtWidgets.QHBoxLayout(self.widget)</span><br><span class="line">        self.horizontalLayout.setContentsMargins(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        self.horizontalLayout.setObjectName(<span class="string">&quot;horizontalLayout&quot;</span>)</span><br><span class="line">        self.openFileButton = QtWidgets.QPushButton(self.widget)</span><br><span class="line">        self.openFileButton.setObjectName(<span class="string">&quot;openFileButton&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.openFileButton)</span><br><span class="line">        self.filePathlineEdit = QtWidgets.QLineEdit(self.widget)</span><br><span class="line">        self.filePathlineEdit.setObjectName(<span class="string">&quot;filePathlineEdit&quot;</span>)</span><br><span class="line">        self.horizontalLayout.addWidget(self.filePathlineEdit)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;QFileDialog打开文件例子&quot;</span>))</span><br><span class="line">        self.openFileButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;打开文件&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.openFileButton.clicked.connect(self.openFile)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">openFile</span>(<span class="params">self</span>):</span><br><span class="line">        get_directory_path = QFileDialog.getExistingDirectory(self,</span><br><span class="line">                                    <span class="string">&quot;选取指定文件夹&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;C:/&quot;</span>)</span><br><span class="line">        self.filePathlineEdit.setText(<span class="built_in">str</span>(get_directory_path))</span><br><span class="line"></span><br><span class="line">        get_filename_path, ok = QFileDialog.getOpenFileName(self,</span><br><span class="line">                                    <span class="string">&quot;选取单个文件&quot;</span>,</span><br><span class="line">                                   <span class="string">&quot;C:/&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;All Files (*);;Text Files (*.txt)&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> ok:</span><br><span class="line">            self.filePathlineEdit.setText(<span class="built_in">str</span>(get_filename_path))</span><br><span class="line"></span><br><span class="line">        get_filenames_path, ok = QFileDialog.getOpenFileNames(self,</span><br><span class="line">                                    <span class="string">&quot;选取多个文件&quot;</span>,</span><br><span class="line">                                   <span class="string">&quot;C:/&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;All Files (*);;Text Files (*.txt)&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> ok:</span><br><span class="line">            self.filePathlineEdit.setText(<span class="built_in">str</span>(<span class="string">&#x27; &#x27;</span>.join(get_filenames_path)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p><strong>运行结果如下（会陆续弹出选择文件夹、选择单个文件、选择多个文件）:</strong></p>
<p><strong><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901065852725-1162451707.png" loading="lazy" alt="img"></strong></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901065927411-129188262.png" loading="lazy" alt="img"></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190901070031489-1392611234.png" loading="lazy" alt="img"></p>
<h3 id="关键代码介绍"><a href="#关键代码介绍" class="headerlink" title="关键代码介绍"></a><strong>关键代码介绍</strong></h3><p><strong>QFileDialog.getOpenFileName(self,”选取单个文件”,”C:&#x2F;“,”All Files<br>(*);;Text Files (*.txt)”)</strong> -&gt;<br><span class="mark">获取单个指定文件的绝对路径</span></p>
<blockquote>
<p>[!TIP]</p>
<p>getOpenFileName()参数说明：</p>
<p>第1个参数：用于指定父组件</p>
<p>第2个参数：对话框标题</p>
<p>第3个参数：对话框显示时默认打开的目录。”.”表示当前程序所在目录，“&#x2F;”表示当前盘下的根目录。</p>
<p>第4个参数：对话框中文件扩展名过滤器。All Files (<em>);;Text Files (</em>.txt)<br>-&gt;<span class="mark">表示可以选择所有文件类型或者只显示.txt后缀的文件类型。</span></p>
</blockquote>
<p><strong>QFileDialog.getExistingDirectory(self,”选取指定文件夹”,”C:&#x2F;“)</strong> -&gt;<br>获取指定文件夹的绝对路径</p>
<p><strong>QFileDialog.getOpenFileNames(self,”选取多个文件”,”C:&#x2F;“,”All Files<br>(*);;Text Files (*.txt)”)</strong><br>-&gt;<span class="mark">获取多个指定文件的绝对路径</span></p>
<h1 id="第6章-PyQt-socket实现远程操作服务器"><a href="#第6章-PyQt-socket实现远程操作服务器" class="headerlink" title="第6章 PyQt+socket实现远程操作服务器"></a>第6章 PyQt+socket实现远程操作服务器</h1><h2 id="需求内容"><a href="#需求内容" class="headerlink" title="需求内容"></a>需求内容</h2><p>部分时候由于缓存刷新、验证码显示不出来或者浏览器打不开或者打开速度很慢等原因，导致部分测试同事不想使用浏览器登录服务器执行命令。<strong>期望有小工具可以替代登录浏览器的操作，直接发送指令到服务器执行并将执行结果返回。</strong></p>
<h2 id="需求设计"><a href="#需求设计" class="headerlink" title="需求设计"></a>需求设计</h2><blockquote>
<p>[!CAUTION]</p>
<p>1、开发界面，方便用户输入IP、用户名、密码以及执行的命令。</p>
<p>2、IP、用户名、密码和命令输入提供默认值。特别是用户名和密码，对于测试服务器来说，通常都是固定的。</p>
<p>3、IP、命令行输入框可以自动补全用户输入。自动补全常用IP、命令行可以提高操作效率。</p>
<p>4、可以自动保存用户执行成功的IP、命令行。用于完善自动补全命令（本文代码未实现）。</p>
<p>5、其他异常场景考虑：包括输入参数的合法性检查、socket发送连接服务器失败提示（连接建立、用户名&#x2F;密码登录失败等）</p>
</blockquote>
<h2 id="需求设计-1"><a href="#需求设计-1" class="headerlink" title="需求设计"></a>需求设计</h2><p>1、使用Qt Designer实现界面开发。开发后界面参考如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190822070712937-1847029820.png" loading="lazy" alt="img"></p>
<p>2、使用socket程序登录服务器并执行命令，并将结果显示在界面文本框中。</p>
<h2 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h2><p><span class="mark">Python3.7.4 + Qt Designer + PyQt5</span></p>
<h2 id="代码实现（程序可以直接复制运行）"><a href="#代码实现（程序可以直接复制运行）" class="headerlink" title="代码实现（程序可以直接复制运行）"></a>代码实现（程序可以直接复制运行）</h2><p>1、使用Qt<br>Designer实现界面开发。主窗口模板类型选择Widget，拖动4个label+4个输入框+1个按钮+1个textBrowser到主界面。修改控件显示名称、对象名称以及设置初始值。完成的设计界面如下所示：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190823064513979-1337009391.png" loading="lazy" alt="img"></p>
<p>2、使用<strong>pyuic5 -o commandTools.py<br>commandTools.ui</strong>指令将.ui文件转换成.py文件。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190823064606717-1117732652.png" loading="lazy" alt="img"></p>
<p>生成的commandTools.py文件内容如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;commandTools.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.11.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">483</span>, <span class="number">347</span>)</span><br><span class="line">        self.ip_label = QtWidgets.QLabel(Form)</span><br><span class="line">        self.ip_label.setGeometry(QtCore.QRect(<span class="number">30</span>, <span class="number">20</span>, <span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.ip_label.setFont(font)</span><br><span class="line">        self.ip_label.setObjectName(<span class="string">&quot;ip_label&quot;</span>)</span><br><span class="line">        self.ip_lineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.ip_lineEdit.setGeometry(QtCore.QRect(<span class="number">50</span>, <span class="number">20</span>, <span class="number">101</span>, <span class="number">20</span>))</span><br><span class="line">        self.ip_lineEdit.setObjectName(<span class="string">&quot;ip_lineEdit&quot;</span>)</span><br><span class="line">        self.username_label = QtWidgets.QLabel(Form)</span><br><span class="line">        self.username_label.setGeometry(QtCore.QRect(<span class="number">160</span>, <span class="number">20</span>, <span class="number">61</span>, <span class="number">16</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.username_label.setFont(font)</span><br><span class="line">        self.username_label.setObjectName(<span class="string">&quot;username_label&quot;</span>)</span><br><span class="line">        self.username_lineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.username_lineEdit.setGeometry(QtCore.QRect(<span class="number">220</span>, <span class="number">20</span>, <span class="number">71</span>, <span class="number">20</span>))</span><br><span class="line">        self.username_lineEdit.setObjectName(<span class="string">&quot;username_lineEdit&quot;</span>)</span><br><span class="line">        self.password_label = QtWidgets.QLabel(Form)</span><br><span class="line">        self.password_label.setGeometry(QtCore.QRect(<span class="number">300</span>, <span class="number">20</span>, <span class="number">61</span>, <span class="number">16</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.password_label.setFont(font)</span><br><span class="line">        self.password_label.setObjectName(<span class="string">&quot;password_label&quot;</span>)</span><br><span class="line">        self.password_lineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.password_lineEdit.setGeometry(QtCore.QRect(<span class="number">360</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">20</span>))</span><br><span class="line">        self.password_lineEdit.setObjectName(<span class="string">&quot;password_lineEdit&quot;</span>)</span><br><span class="line">        self.command_label = QtWidgets.QLabel(Form)</span><br><span class="line">        self.command_label.setGeometry(QtCore.QRect(<span class="number">30</span>, <span class="number">70</span>, <span class="number">51</span>, <span class="number">16</span>))</span><br><span class="line">        font = QtGui.QFont()</span><br><span class="line">        font.setBold(<span class="literal">True</span>)</span><br><span class="line">        font.setWeight(<span class="number">75</span>)</span><br><span class="line">        self.command_label.setFont(font)</span><br><span class="line">        self.command_label.setObjectName(<span class="string">&quot;command_label&quot;</span>)</span><br><span class="line">        self.command_lineEdit = QtWidgets.QLineEdit(Form)</span><br><span class="line">        self.command_lineEdit.setGeometry(QtCore.QRect(<span class="number">90</span>, <span class="number">70</span>, <span class="number">251</span>, <span class="number">20</span>))</span><br><span class="line">        self.command_lineEdit.setObjectName(<span class="string">&quot;command_lineEdit&quot;</span>)</span><br><span class="line">        self.result_textBrowser = QtWidgets.QTextBrowser(Form)</span><br><span class="line">        self.result_textBrowser.setGeometry(QtCore.QRect(<span class="number">30</span>, <span class="number">120</span>, <span class="number">410</span>, <span class="number">201</span>))</span><br><span class="line">        self.result_textBrowser.setObjectName(<span class="string">&quot;result_textBrowser&quot;</span>)</span><br><span class="line">        self.run_Button = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.run_Button.setGeometry(QtCore.QRect(<span class="number">360</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">23</span>))</span><br><span class="line">        self.run_Button.setObjectName(<span class="string">&quot;run_Button&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;cmdTool&quot;</span>))</span><br><span class="line">        self.ip_label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;IP&quot;</span>))</span><br><span class="line">        self.ip_lineEdit.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>))</span><br><span class="line">        self.username_label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;username&quot;</span>))</span><br><span class="line">        self.username_lineEdit.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;admin&quot;</span>))</span><br><span class="line">        self.password_label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;password&quot;</span>))</span><br><span class="line">        self.password_lineEdit.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Winovs12!&quot;</span>))</span><br><span class="line">        self.command_label.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Command&quot;</span>))</span><br><span class="line">        self.command_lineEdit.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;LST LOG&quot;</span>))</span><br><span class="line">        self.run_Button.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Run&quot;</span>))</span><br></pre></td></tr></table></figure>

<p>3、实现主程序callcommand.py调用（业务与逻辑分离）。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow,QCompleter,QMessageBox</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt,QThread,pyqtSignal</span><br><span class="line"><span class="keyword">from</span> commandTools <span class="keyword">import</span> Ui_Form</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        构造函数</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.ip = <span class="string">&quot;&quot;</span></span><br><span class="line">        self.username = <span class="string">&quot;&quot;</span></span><br><span class="line">        self.password = <span class="string">&quot;&quot;</span></span><br><span class="line">        self.command = <span class="string">&quot;&quot;</span></span><br><span class="line">        self.port = <span class="number">6000</span></span><br><span class="line">        self.continue_flag = <span class="literal">True</span></span><br><span class="line">        self.ip_init_lst = [<span class="string">&#x27;121.1.1.1&#x27;</span>, <span class="string">&#x27;192.168.1.1&#x27;</span>, <span class="string">&#x27;172.16.1.1&#x27;</span>]</span><br><span class="line">        self.init_lineedit(self.ip_lineEdit,self.ip_init_lst)</span><br><span class="line">        self.cmd_init_lst = [<span class="string">&#x27;LST LOG&#x27;</span>, <span class="string">&#x27;LST PARA&#x27;</span>,<span class="string">&#x27;MOD PARA&#x27;</span>]</span><br><span class="line">        self.init_lineedit(self.command_lineEdit,self.cmd_init_lst)</span><br><span class="line">        self.run_Button.clicked.connect(self.check_para)</span><br><span class="line">        self.run_Button.clicked.connect(self.execte_command)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">init_lineedit</span>(<span class="params">self, lineedit, item_list</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        用户初始化控件自动补全功能</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># 增加自动补全</span></span><br><span class="line">        self.completer = QCompleter(item_list)</span><br><span class="line">        <span class="comment"># 设置匹配模式  有三种： Qt.MatchStartsWith 开头匹配（默认）  Qt.MatchContains 内容匹配  Qt.MatchEndsWith 结尾匹配</span></span><br><span class="line">        self.completer.setFilterMode(Qt.MatchContains)</span><br><span class="line">        <span class="comment"># 设置补全模式  有三种： QCompleter.PopupCompletion（默认）  QCompleter.InlineCompletion   QCompleter.UnfilteredPopupCompletion</span></span><br><span class="line">        self.completer.setCompletionMode(QCompleter.PopupCompletion)</span><br><span class="line">        <span class="comment"># 给lineedit设置补全器</span></span><br><span class="line">        lineedit.setCompleter(self.completer)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">execte_command</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        登录服务器，并执行命令</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.continue_flag:</span><br><span class="line">            sockethandle = socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">            rec_code = sockethandle.connect_ex((self.ip, self.port))</span><br><span class="line">            <span class="comment">#connect_ex函数执行成功返回0，失败返回非0</span></span><br><span class="line">            <span class="keyword">if</span> rec_code == <span class="number">0</span>:</span><br><span class="line">                send_cmd = <span class="string">&quot;username: %s, admin: %s, command: %s&quot;</span> % (self.username, self.password, self.command)</span><br><span class="line">                sockethandle.sendall(send_cmd.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">                time.sleep(<span class="number">0.5</span>)</span><br><span class="line">                recdata = sockethandle.recv(<span class="number">65535</span>)</span><br><span class="line">                tran_recdata = recdata.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">                self.result_textBrowser.setText(tran_recdata)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                QMessageBox.information(self, <span class="string">&#x27;提示&#x27;</span>,<span class="string">&#x27;连接失败，请检查IP和端口是否正确&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_para</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        获取用户界面输入及判断参数有效性</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.ip = self.ip_lineEdit.text()</span><br><span class="line">        self.username = self.username_lineEdit.text()</span><br><span class="line">        self.password = self.password_lineEdit.text()</span><br><span class="line">        self.command = self.command_lineEdit.text()</span><br><span class="line"></span><br><span class="line">        <span class="comment">#判断IP合法性</span></span><br><span class="line">        <span class="keyword">if</span>  <span class="built_in">len</span>(self.ip) == <span class="number">0</span> <span class="keyword">or</span> self.ip.count(<span class="string">&#x27;.&#x27;</span>) != <span class="number">3</span> <span class="keyword">or</span> <span class="built_in">len</span>(self.ip) &gt; <span class="number">15</span>:</span><br><span class="line">            self.continue_flag = <span class="literal">False</span></span><br><span class="line">            QMessageBox.information(self, <span class="string">&#x27;提示&#x27;</span>,<span class="string">&#x27;输入的IP不合法，请重新输入&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#判断用户名或密码是否为空</span></span><br><span class="line">        <span class="keyword">if</span> self.continue_flag <span class="keyword">and</span> <span class="built_in">len</span>(self.username) == <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(self.password) == <span class="number">0</span>:</span><br><span class="line">            self.continue_flag = <span class="literal">False</span></span><br><span class="line">            QMessageBox.information(self, <span class="string">&#x27;提示&#x27;</span>,<span class="string">&#x27;用户名或密码未输入，请重新输入&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#判断命令行是否为空</span></span><br><span class="line">        <span class="keyword">if</span> self.continue_flag <span class="keyword">and</span> <span class="built_in">len</span>(self.command) == <span class="number">0</span>:</span><br><span class="line">            self.continue_flag = <span class="literal">False</span></span><br><span class="line">            QMessageBox.information(self, <span class="string">&#x27;提示&#x27;</span>,<span class="string">&#x27;命令未输入，请重新输入&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p>4、使用pyinstaller转换成可执行的.exe文件。命令：<strong>pyinstaller -F<br>callcommand.py -w</strong></p>
<p><strong><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190822072819512-948816312.png" loading="lazy" alt="img"></strong></p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190822072909029-211359119.png" loading="lazy" alt="img"></p>
<p>执行成功，生成的文件在d:\temp\dist\dist\callcommand.exe</p>
<p>5、运行callcommand.exe,点击run运行</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190822073000064-177777434.png" loading="lazy" alt="img"></p>
<h2 id="关键代码-1"><a href="#关键代码-1" class="headerlink" title="关键代码"></a>关键代码</h2><p>1、输入框自动补全功能函数。同样适用于下拉框控件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">init_lineedit</span>(<span class="params">self, lineedit, item_list</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    用户初始化控件自动补全功能</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 增加自动补全</span></span><br><span class="line">    self.completer = QCompleter(item_list)</span><br><span class="line">    <span class="comment"># 设置匹配模式  有三种： Qt.MatchStartsWith 开头匹配（默认）  Qt.MatchContains 内容匹配  Qt.MatchEndsWith 结尾匹配</span></span><br><span class="line">    self.completer.setFilterMode(Qt.MatchContains)</span><br><span class="line">    <span class="comment"># 设置补全模式  有三种： QCompleter.PopupCompletion（默认）  QCompleter.InlineCompletion   QCompleter.UnfilteredPopupCompletion</span></span><br><span class="line">    self.completer.setCompletionMode(QCompleter.PopupCompletion)</span><br><span class="line">    <span class="comment"># 给lineedit设置补全器</span></span><br><span class="line">    lineedit.setCompleter(self.completer)</span><br></pre></td></tr></table></figure>

<p>实现效果如下所示：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190823064851128-68080830.png" loading="lazy" alt="img"></p>
<p>2、socket中sendall函数要将命令使用utf-8编码，否则会导致界面卡住：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sockethandle.sendall(send_cmd.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>3、需要将服务端返回的内容解码再写入textBrowser文本框，否则会导致界面卡住。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">recdata = sockethandle.recv(<span class="number">65535</span>)</span><br><span class="line">tran_recdata = recdata.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">self.result_textBrowser.setText(tran_recdata)</span><br></pre></td></tr></table></figure>

<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><p>1、PyQt5中textbrowser控件使用介绍</p>
<p>a、textbrowser常用设置文本方法主要为增量添加 append()、重新设置<br>setText()以及清除内容 clear()方法。</p>
<p>b、如何设置显示中文。在Python3.X程序中，经常会遇到调用中文输出导致程序卡住的问题。正确设置方法参考如下：</p>
<p>output_str &#x3D; <strong>u’设置textBrowser输出’</strong></p>
<p>self.result_textBrowser.setText(output_str)</p>
<p><strong>2、简易调试程序服务器搭建</strong></p>
<p>由于本地没有服务器用于调试程序。所以使用socket搭建1个简易服务器以便调试。服务器功能实现将接收的命令原样返回。就是接收什么命令就给客户端返回什么内容。服务器IP为本地IP127.0.0.1，绑定端口为6000。代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3  </span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;socket create success!&quot;</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    s.bind((<span class="string">&#x27;127.0.0.1&#x27;</span>,<span class="number">6000</span>))</span><br><span class="line"><span class="keyword">except</span> socket.error <span class="keyword">as</span> msg:</span><br><span class="line">    <span class="built_in">print</span>(msg)</span><br><span class="line">    sys.exit(<span class="number">1</span>)</span><br><span class="line">s.listen(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    conn, addr = s.accept()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;success&quot;</span>)</span><br><span class="line">    data = conn.recv(<span class="number">65535</span>)</span><br><span class="line">    conn.sendall(data.decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">conn.close()</span><br><span class="line">s.close()</span><br></pre></td></tr></table></figure>

<p>启动服务器：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20190822073749534-972313534.png" loading="lazy" alt="img"></p>
<p>简陋的有点过分，但是满足调试需求了。。。</p>
<h2 id="第6章的总结"><a href="#第6章的总结" class="headerlink" title="第6章的总结"></a>第6章的总结</h2><p>这个python+scoket需求实现的远程登录服务器执行命令只是把基本功能实现了。中间遇到的界面无响应甚至退出的问题（就是socket发送和接收内容编解码导致的）。。但是还有很多地方需要优化，比如对入参判断的优化、对连接服务器结果的判断，还有界面的美化等内容。。正是这些小需求及实践过程中遇到问题、解决问题的过程逐步提升编码能力。加油！！！！</p>
<h1 id="第7章-PyQt5中数据表格控件QTableWidget使用方法"><a href="#第7章-PyQt5中数据表格控件QTableWidget使用方法" class="headerlink" title="第7章 PyQt5中数据表格控件QTableWidget使用方法"></a>第7章 PyQt5中数据表格控件QTableWidget使用方法</h1><p>如果你想让你开发的PyQt5工具展示的数据显得整齐、美观、好看，显得符合你的气质，可以考虑使用QTableWidget控件。之前一直使用的是textBrowser文本框控件，数据展示还是不太美观。其中QTableWidget是PyQt5程序中常用的显示数据表格的控件，显示的基本效果如下，有点素。。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191110220801998-1426100016.png" loading="lazy" alt="img"></p>
<p>下面开始介绍QTableWidget常用的方法以及如何使用。既然是数据表格形式，经常使用的场景其实跟excel我觉得差不多。开始学习使用QTableWidget之前，我们带着如下几个问题再开始本文的阅读。</p>
<blockquote>
<p>[!TIP]</p>
<p>1、如何在GUI界面上创建QTableWidget表格？指定N行M列，列名称等等</p>
<p>2、如何在表格里添加每一个单元格的数据？</p>
<p>3、如何排版数据表格的数据，比如你想单元格内容居中、左对齐、右对齐等。</p>
<p>4、如何设置文字显示颜色、如何设置单元格背景色？</p>
<p>5、如何合并指定单元格，让排版更合理？</p>
</blockquote>
<p>基本上使用数据表格展示数据常见的问题就是这些，能够熟练使用QTableWidget解决上述问题，QTableWidget基本使用方法应该就会了。下面开始学习本文内容。</p>
<h2 id="QTableWidget常用方法"><a href="#QTableWidget常用方法" class="headerlink" title="QTableWidget常用方法"></a>QTableWidget常用方法</h2><p><strong>setROwCount(int row)</strong> 设置QTableWidget表格控件的行数</p>
<p><strong>setColumnCount(int col)</strong> 设置QTableWidget表格控件的列数</p>
<p><strong>setHorizontalHeaderLabels()</strong> 设置QTableWidget表格控件的水平标签</p>
<p><strong>setVerticalHeaderLabels()</strong> 设置QTableWidget表格控件的垂直标签</p>
<p><strong>setItem(int ,int ,QTableWidgetItem)</strong><br>在QTableWidget表格控件的每个选项的单元控件内添加控件</p>
<p><strong>horizontalHeader()</strong> 获得QTableWidget表格控件的表格头，以便执行隐藏</p>
<p><strong>rowCount()</strong> 获得QTableWidget表格控件的行数</p>
<p><strong>columnCount()</strong> 获得QTableWidget表格控件的列数</p>
<p><strong>setEditTriggers(EditTriggers triggers)</strong><br>设置表格是否可以编辑，设置表格的枚举值</p>
<p><strong>setSelectionBehavior</strong> 设置表格的选择行为</p>
<p><strong>setTextAlignment()</strong> 设置单元格内文本的对齐方式</p>
<p><strong>setSpan(int row,int column,int rowSpanCount,int columnSpanCount)</strong><br>合并单元格，要改变单元格的第row行，column列，要合并rowSpancount行数和columnSpanCount列数。其中row表示要改变的行数，<br>column表示要改变的列数，rowSpanCount表示需要合并的行数，columnSpanCount表示需要合并的列数。</p>
<p><strong>setShowGrid()</strong><br>在默认情况下表格的显示是有网格的，可以设置True或False用于是否显示，默认True</p>
<p><strong>setColumnWidth(int column,int width)</strong> 设置单元格行的宽度</p>
<p><strong>setRowHeight(int row,int height)</strong> 设置单元格列的高度</p>
<p>这里的函数有些有点不好理解，比如**setSpan()**合并单元格函数，你可能一下不知道它的使用方法以及实现效果。没关系，下面会通过实例讲解以及效果演示展示这些函数的使用方法。</p>
<h2 id="QTableWidget使用实例"><a href="#QTableWidget使用实例" class="headerlink" title="QTableWidget使用实例"></a>QTableWidget使用实例</h2><p>1、使用designer实现一个包含QTableWidget数据展示控件的窗体。界面设计一般都会采用designer工具，因为要考虑控件间的布局，纯代码实现会增加难度。界面实现如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191110222852277-1304025358.png" loading="lazy" alt="img"></p>
<p>双击在窗体界面上的QTableWidget控件，分别选择Edit Table<br>Widget中Columns、Rows、Items进行编辑。可以分别完成行、列标题以及单元格内容的添加。</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191110223136097-998374742.png" loading="lazy" alt="img"></p>
<p>完成后，效果图如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191110223420808-710683986.png" loading="lazy" alt="img"></p>
<p>2、使用pyuic5工具将.ui文件转换为.py文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Form implementation generated from reading ui file &#x27;cc.ui&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Created by: PyQt5 UI code generator 5.11.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING! All changes made in this file will be lost!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_widget</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, widget</span>):</span><br><span class="line">        widget.setObjectName(<span class="string">&quot;widget&quot;</span>)</span><br><span class="line">        widget.resize(<span class="number">730</span>, <span class="number">574</span>)</span><br><span class="line">        self.tableWidget = QtWidgets.QTableWidget(widget)</span><br><span class="line">        self.tableWidget.setGeometry(QtCore.QRect(<span class="number">10</span>, <span class="number">130</span>, <span class="number">701</span>, <span class="number">192</span>))</span><br><span class="line">        self.tableWidget.setObjectName(<span class="string">&quot;tableWidget&quot;</span>)</span><br><span class="line">        self.tableWidget.setColumnCount(<span class="number">4</span>)</span><br><span class="line">        self.tableWidget.setRowCount(<span class="number">3</span>)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setVerticalHeaderItem(<span class="number">0</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setVerticalHeaderItem(<span class="number">1</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setVerticalHeaderItem(<span class="number">2</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        item.setTextAlignment(QtCore.Qt.AlignCenter)</span><br><span class="line">        self.tableWidget.setHorizontalHeaderItem(<span class="number">0</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setHorizontalHeaderItem(<span class="number">1</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setHorizontalHeaderItem(<span class="number">2</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setHorizontalHeaderItem(<span class="number">3</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">0</span>, <span class="number">0</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">0</span>, <span class="number">1</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">0</span>, <span class="number">2</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">0</span>, <span class="number">3</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">1</span>, <span class="number">0</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">1</span>, <span class="number">1</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">1</span>, <span class="number">2</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">1</span>, <span class="number">3</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">2</span>, <span class="number">0</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">2</span>, <span class="number">1</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">2</span>, <span class="number">2</span>, item)</span><br><span class="line">        item = QtWidgets.QTableWidgetItem()</span><br><span class="line">        self.tableWidget.setItem(<span class="number">2</span>, <span class="number">3</span>, item)</span><br><span class="line">        self.tableWidget.horizontalHeader().setCascadingSectionResizes(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(widget)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(widget)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, widget</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        widget.setWindowTitle(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;员工信息表&quot;</span>))</span><br><span class="line">        item = self.tableWidget.verticalHeaderItem(<span class="number">0</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;1&quot;</span>))</span><br><span class="line">        item = self.tableWidget.verticalHeaderItem(<span class="number">1</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;2&quot;</span>))</span><br><span class="line">        item = self.tableWidget.verticalHeaderItem(<span class="number">2</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;3&quot;</span>))</span><br><span class="line">        item = self.tableWidget.horizontalHeaderItem(<span class="number">0</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;姓名&quot;</span>))</span><br><span class="line">        item = self.tableWidget.horizontalHeaderItem(<span class="number">1</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;年龄&quot;</span>))</span><br><span class="line">        item = self.tableWidget.horizontalHeaderItem(<span class="number">2</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;性别&quot;</span>))</span><br><span class="line">        item = self.tableWidget.horizontalHeaderItem(<span class="number">3</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;基本信息&quot;</span>))</span><br><span class="line">        __sortingEnabled = self.tableWidget.isSortingEnabled()</span><br><span class="line">        self.tableWidget.setSortingEnabled(<span class="literal">False</span>)</span><br><span class="line">        item = self.tableWidget.item(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;张三&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;23&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;Male&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">0</span>, <span class="number">3</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;家里有矿&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;王八&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;25&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;Female&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;拆二代&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;赵四&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;28&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;Male&quot;</span>))</span><br><span class="line">        item = self.tableWidget.item(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">        item.setText(_translate(<span class="string">&quot;widget&quot;</span>, <span class="string">&quot;勤奋努力的程序员&quot;</span>))</span><br><span class="line">        self.tableWidget.setSortingEnabled(__sortingEnabled)</span><br></pre></td></tr></table></figure>

<p>附designer工具设计完成的.ui文件代码。不作展示，方便有需要的读者下载使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;ui version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line"> &lt;<span class="keyword">class</span>&gt;widget&lt;/<span class="keyword">class</span>&gt;</span><br><span class="line"> &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;widget&quot;</span>&gt;</span><br><span class="line">  &lt;<span class="built_in">property</span> name=<span class="string">&quot;geometry&quot;</span>&gt;</span><br><span class="line">   &lt;rect&gt;</span><br><span class="line">    &lt;x&gt;<span class="number">0</span>&lt;/x&gt;</span><br><span class="line">    &lt;y&gt;<span class="number">0</span>&lt;/y&gt;</span><br><span class="line">    &lt;width&gt;<span class="number">730</span>&lt;/width&gt;</span><br><span class="line">    &lt;height&gt;<span class="number">286</span>&lt;/height&gt;</span><br><span class="line">   &lt;/rect&gt;</span><br><span class="line">  &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">  &lt;<span class="built_in">property</span> name=<span class="string">&quot;font&quot;</span>&gt;</span><br><span class="line">   &lt;font&gt;</span><br><span class="line">    &lt;pointsize&gt;<span class="number">10</span>&lt;/pointsize&gt;</span><br><span class="line">   &lt;/font&gt;</span><br><span class="line">  &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">  &lt;<span class="built_in">property</span> name=<span class="string">&quot;windowTitle&quot;</span>&gt;</span><br><span class="line">   &lt;string&gt;员工信息表&lt;/string&gt;</span><br><span class="line">  &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">  &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QTableWidget&quot;</span> name=<span class="string">&quot;tableWidget&quot;</span>&gt;</span><br><span class="line">   &lt;<span class="built_in">property</span> name=<span class="string">&quot;geometry&quot;</span>&gt;</span><br><span class="line">    &lt;rect&gt;</span><br><span class="line">     &lt;x&gt;<span class="number">10</span>&lt;/x&gt;</span><br><span class="line">     &lt;y&gt;<span class="number">51</span>&lt;/y&gt;</span><br><span class="line">     &lt;width&gt;<span class="number">701</span>&lt;/width&gt;</span><br><span class="line">     &lt;height&gt;<span class="number">211</span>&lt;/height&gt;</span><br><span class="line">    &lt;/rect&gt;</span><br><span class="line">   &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;attribute name=<span class="string">&quot;horizontalHeaderCascadingSectionResizes&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">bool</span>&gt;true&lt;/<span class="built_in">bool</span>&gt;</span><br><span class="line">   &lt;/attribute&gt;</span><br><span class="line">   &lt;row&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;<span class="number">1</span>&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/row&gt;</span><br><span class="line">   &lt;row&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;<span class="number">2</span>&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/row&gt;</span><br><span class="line">   &lt;row&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;<span class="number">3</span>&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/row&gt;</span><br><span class="line">   &lt;column&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;姓名&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;textAlignment&quot;</span>&gt;</span><br><span class="line">     &lt;<span class="built_in">set</span>&gt;AlignCenter&lt;/<span class="built_in">set</span>&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/column&gt;</span><br><span class="line">   &lt;column&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;年龄&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/column&gt;</span><br><span class="line">   &lt;column&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;性别&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/column&gt;</span><br><span class="line">   &lt;column&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;基本信息&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/column&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;0&quot;</span> column=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;张三&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;0&quot;</span> column=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;<span class="number">23</span>&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;0&quot;</span> column=<span class="string">&quot;2&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;Male&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;0&quot;</span> column=<span class="string">&quot;3&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;家里有矿&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;1&quot;</span> column=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;王八&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;1&quot;</span> column=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;<span class="number">25</span>&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;1&quot;</span> column=<span class="string">&quot;2&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;Female&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;1&quot;</span> column=<span class="string">&quot;3&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;拆二代&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;2&quot;</span> column=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;赵四&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;2&quot;</span> column=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;<span class="number">28</span>&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;2&quot;</span> column=<span class="string">&quot;2&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;Male&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;2&quot;</span> column=<span class="string">&quot;3&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">     &lt;string&gt;勤奋努力的程序员&lt;/string&gt;</span><br><span class="line">    &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">  &lt;/widget&gt;</span><br><span class="line">  &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QLabel&quot;</span> name=<span class="string">&quot;label&quot;</span>&gt;</span><br><span class="line">   &lt;<span class="built_in">property</span> name=<span class="string">&quot;geometry&quot;</span>&gt;</span><br><span class="line">    &lt;rect&gt;</span><br><span class="line">     &lt;x&gt;<span class="number">250</span>&lt;/x&gt;</span><br><span class="line">     &lt;y&gt;<span class="number">20</span>&lt;/y&gt;</span><br><span class="line">     &lt;width&gt;<span class="number">111</span>&lt;/width&gt;</span><br><span class="line">     &lt;height&gt;<span class="number">21</span>&lt;/height&gt;</span><br><span class="line">    &lt;/rect&gt;</span><br><span class="line">   &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;<span class="built_in">property</span> name=<span class="string">&quot;font&quot;</span>&gt;</span><br><span class="line">    &lt;font&gt;</span><br><span class="line">     &lt;family&gt;YaHei Consolas Hybrid&lt;/family&gt;</span><br><span class="line">     &lt;pointsize&gt;<span class="number">10</span>&lt;/pointsize&gt;</span><br><span class="line">    &lt;/font&gt;</span><br><span class="line">   &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">   &lt;<span class="built_in">property</span> name=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">    &lt;string&gt;员工信息展示&lt;/string&gt;</span><br><span class="line">   &lt;/<span class="built_in">property</span>&gt;</span><br><span class="line">  &lt;/widget&gt;</span><br><span class="line"> &lt;/widget&gt;</span><br><span class="line"> &lt;resources/&gt;</span><br><span class="line"> &lt;connections/&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>3、编写主程序，调用界面.py文件。使业界面和逻辑程序分离，这样的好处就是后面界面任何改动程序逻辑几乎不会有什么大的影响。</p>
<pre><code># -*- coding: utf-8 -*-

# Form implementation generated from reading ui file &#39;connect_me.ui&#39;
#
# Created by: PyQt5 UI code generator 5.11.3
#
# WARNING! All changes made in this file will be lost!
#导入程序运行必须模块
import sys
from PyQt5.QtWidgets import *
from PyQt5.QtGui import QColor, QBrush
from cc import Ui_widget


class MyMainForm(QMainWindow, Ui_widget):
    def __init__(self, parent=None):
        super(MyMainForm, self).__init__(parent)
        self.setupUi(self)

if __name__ == &quot;__main__&quot;:
    app = QApplication(sys.argv)
    myWin = MyMainForm()
    myWin.show()
    sys.exit(app.exec_())
</code></pre>
<p>运行程序结果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191110224328552-804515406.png" loading="lazy" alt="img"></p>
<p>4、程序运行可以正常显示界面，但是界面并不是很美观（比如行、列没有铺满整个显示窗口、列标题文字没有加粗等）。下面通过QTableWidget相关函数的使用来实现优化。</p>
<h2 id="QTableWidget函数使用方法"><a href="#QTableWidget函数使用方法" class="headerlink" title="QTableWidget函数使用方法"></a>QTableWidget函数使用方法</h2><p>上述基本例子实现了员工信息表格展示的初始化，单元格内容手工添加其实在实现场景不合适，只是方便展示，下面讲解如何通过代码实现方式添加单元格内容以及实现单元格内容颜色、字体变化的实现。说明，下述所有代码添加都在主程序中完成。目的是使程序实现更灵活，方便维护。</p>
<p>（1）初始化QTableWidget数据展示窗口对象。一般来说该步骤通常是通过designer实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">self.tableWidget = QtWidgets.QTableWidget(widget)</span><br><span class="line">self.tableWidget.setColumnCount(<span class="number">4</span>)</span><br><span class="line">self.tableWidget.setRowCount(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>设置表格的行、列标题，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.tableWidget.setHorizontalHeaderLabels([<span class="string">&#x27;姓名&#x27;</span>,<span class="string">&#x27;年龄&#x27;</span>])</span><br><span class="line">self.tableWidget.setVerticalHeaderLabels([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>])</span><br></pre></td></tr></table></figure>

<p>当然也可以通过上面例子中的方式去添加，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">item = QtWidgets.QTableWidgetItem()</span><br><span class="line">self.tableWidget.setVerticalHeaderItem(<span class="number">1</span>, item)</span><br><span class="line"></span><br><span class="line">item = QtWidgets.QTableWidgetItem()</span><br><span class="line">self.tableWidget.setHorizontalHeaderItem(<span class="number">1</span>, item)</span><br></pre></td></tr></table></figure>

<p>（2）设置表格头的伸缩模式，也就是让表格铺满整个QTableWidget控件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.tableWidget.horizontalHeader().setSectionResizeMode(QHeaderView.Stretch)</span><br><span class="line">效果如下：</span><br></pre></td></tr></table></figure>

<p>（2）将表格变为禁止编辑。默认情况下表格中的字符串是可以更改的，比如双击一个单元格，就可以修改运来的内容。如果想禁止这种操作，让表格对用户是只读的，可以添加如下代码。</p>
<p>self.tableWidget.setEditTriggers(QAbstractItemView.NoEditTriggers)</p>
<p>运行效果（双击单元格不可编辑，提前观察一下鼠标单击选中的只是单元格）：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191113070028886-93201580.png" loading="lazy" alt="img"></p>
<p>（3）设置表格整行选中。表格默认选中的是单个单元格。通过下面代码可以设置成选中整行。添加代码如下</p>
<p>self.tableWidget.setSelectionBehavior(QAbstractItemView.SelectRows)</p>
<p>运行效果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191113070301337-612430838.png" loading="lazy" alt="img"></p>
<p>另外，单元格选中的类型还可以修改成如下方式：</p>
<p><strong>QAbstractItemView.SelectColumns</strong> 选中1列</p>
<p><strong>QAbstractItemView.SelectRows</strong> 选中1行</p>
<p><strong>QAbstractItemView.SelectItems</strong> 选中1个单元格</p>
<p>（4）行、列标题的显示与隐藏。</p>
<p>对于列标题的显示或隐藏设置，可以通过添加如下代码实现。默认是显示的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.tableWidget.horizontalHeader().setVisible(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">运行效果如下（行标题不再显示）：</span><br><span class="line">对于行标题，可以使用如下代码进行隐藏或显示设置。默认是显示</span><br><span class="line">self.tableWidget.verticalHeader().setVisible(</span><br></pre></td></tr></table></figure>

<p>（5）在表格中添加内容。代码如下：</p>
<pre><code>        items = [[&#39;燕十三&#39;,&#39;21&#39;,&#39;Male&#39;,&#39;武林大侠&#39;],[&#39;萧十一郎&#39;,&#39;21&#39;,&#39;Male&#39;,&#39;武功好&#39;]]

        for i in range(len(items)):
            item = items[i]
            row = self.tableWidget.rowCount()
            self.tableWidget.insertRow(row)
            for j in range(len(item)):
                item = QTableWidgetItem(str(items[i][j]))
                self.tableWidget.setItem(row,j,item)
</code></pre>
<p>运行结果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191114072914758-1619954742.png" loading="lazy" alt="img"></p>
<p>（6） 设置表格标题字体加粗。添加代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">font = self.tableWidget.horizontalHeader().font()</span><br><span class="line">font.setBold(<span class="literal">True</span>)</span><br><span class="line">self.tableWidget.horizontalHeader().setFont(font)</span><br></pre></td></tr></table></figure>

<p>运行效果如下</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191115075443222-2069354785.png" loading="lazy" alt="img"></p>
<p>（7） 设置表格指定列宽。添加代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.tableWidget.horizontalHeader().resizeSection(<span class="number">0</span>,<span class="number">100</span>)</span><br><span class="line">self.tableWidget.horizontalHeader().resizeSection(<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">self.tableWidget.horizontalHeader().resizeSection(<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">self.tableWidget.horizontalHeader().resizeSection(<span class="number">3</span>,<span class="number">400</span>)</span><br><span class="line"><span class="comment">#self.tableWidget.horizontalHeader().setSectionResizeMode(QHeaderView.Stretch) 一定要注释，否则上述设置不生效</span></span><br></pre></td></tr></table></figure>

<p>说明，表头的自适应模式要注释，否则上述设置不生效。运行效果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191115210943024-1332120156.png" loading="lazy" alt="img"></p>
<p>（8）合并单元格，添加如下代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.tableWidget.setSpan(<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191115224143316-995395044.png" loading="lazy" alt="img"></p>
<p>这里再补充描述一下setSpan()函数。setSpan(0,3,2,1)函数中（0,3）会指定到单元格第1行第4列（下标都是从0开始计算），（2,1）分别表示合并2行（把下一行合并了），1列（1列，列其实没有合并）。我们把代码修改为setSpan(1,2,3,2)。看效果如下（很直观了吧）：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191116112250928-430070996.png" loading="lazy" alt="img"></p>
<p>（9）对齐单元格中的内容。添加代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(items)):</span><br><span class="line">    each_item = items[i]</span><br><span class="line">    row = self.tableWidget.rowCount()</span><br><span class="line">    self.tableWidget.insertRow(row)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(each_item)):</span><br><span class="line">        item = QTableWidgetItem(<span class="built_in">str</span>(items[i][j]))</span><br><span class="line">        <span class="keyword">if</span> j != <span class="built_in">len</span>(each_item) -<span class="number">1</span>:</span><br><span class="line">            item.setTextAlignment(Qt.AlignHCenter | Qt.AlignVCenter)</span><br><span class="line">        self.tableWidget.setItem(row,j,item)</span><br></pre></td></tr></table></figure>

<p>关键代码就是item.setTextAlignment(Qt.AlignHCenter |<br>Qt.AlignVCenter)。前面3列居中显示，最后一列靠左显示。运行效果如下：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191116110732114-1090093501.png" loading="lazy" alt="img"></p>
<p>另外，单元格内容对齐还有如下几种方式。</p>
<p><strong>Qt.AlignLeft</strong> 将单元格内容沿单元格左边缘对齐</p>
<p><strong>Qt.AlignRight</strong> 将单元格内容沿单元格右边缘对齐</p>
<p><strong>Qt.AlignHCenter</strong> 将单元格内容居中显示在水平方向上。</p>
<p><strong>Qt.AlignJustify</strong> 将文本在可用的空间中对齐，默认是从左到右的</p>
<p><strong>Qt.AlignTop</strong> 与顶部对齐</p>
<p><strong>Qt.AlignBottom</strong> 与底部对齐</p>
<p><strong>Qt.AlignVCenter</strong> 在可用的空间中，居中显示在垂直方向上</p>
<p><strong>Qt.AlignBaseline</strong> 与基线对齐</p>
<p>（10）设置单元格字体颜色和背景颜色。添加代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(items)):</span><br><span class="line">    each_item = items[i]</span><br><span class="line">    row = self.tableWidget.rowCount()</span><br><span class="line">    self.tableWidget.insertRow(row)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(each_item)):</span><br><span class="line">        item = QTableWidgetItem(<span class="built_in">str</span>(items[i][j]))</span><br><span class="line">        <span class="keyword">if</span> j != <span class="built_in">len</span>(each_item) -<span class="number">1</span>:</span><br><span class="line">            item.setTextAlignment(Qt.AlignHCenter | Qt.AlignVCenter)</span><br><span class="line">            item.setForeground(QBrush(QColor(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>)))  <span class="comment">#设置除最后一列外的文字颜色为红色</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            item.setBackground(QBrush(QColor(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>)))  <span class="comment">#设置最后一列的背景色为绿色</span></span><br><span class="line">        self.tableWidget.setItem(row,j,item)</span><br></pre></td></tr></table></figure>

<p>运行结果如下所示：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20191116111606942-1009848353.png" loading="lazy" alt="img"></p>
<p>QTableWidget控件的基本使用方法就到这里，后续有其他更好的使用技巧会继续更新，为方便自己及大家阅读本文，附本文使用到的代码如下：</p>
<pre><code># -*- coding: utf-8 -*-

# Form implementation generated from reading ui file &#39;connect_me.ui&#39;
#
# Created by: PyQt5 UI code generator 5.11.3
#
# WARNING! All changes made in this file will be lost!
#导入程序运行必须模块
import sys
from PyQt5.QtWidgets import *
from PyQt5.QtGui import QColor, QBrush
from PyQt5.QtCore import Qt
from cc import Ui_widget


class MyMainForm(QMainWindow, Ui_widget):
    def __init__(self, parent=None):
        super(MyMainForm, self).__init__(parent)
        self.setupUi(self)
        #self.tableWidget.horizontalHeader().setSectionResizeMode(QHeaderView.Stretch)
        self.tableWidget.setEditTriggers(QAbstractItemView.NoEditTriggers)
        self.tableWidget.setSelectionBehavior(QAbstractItemView.SelectRows)
        #self.tableWidget.horizontalHeader().setVisible(False)
        self.tableWidget.verticalHeader().setVisible(False)
        font = self.tableWidget.horizontalHeader().font()
        font.setBold(True)
        self.tableWidget.horizontalHeader().setFont(font)
        self.tableWidget.horizontalHeader().resizeSection(0,100)
        self.tableWidget.horizontalHeader().resizeSection(1,100)
        self.tableWidget.horizontalHeader().resizeSection(1,100)
        self.tableWidget.horizontalHeader().resizeSection(3,400)
        #self.tableWidget.horizontalHeader().setSectionResizeMode(QHeaderView.Stretch)

        items = [[&#39;燕十三&#39;,&#39;21&#39;,&#39;Male&#39;,&#39;武林大侠&#39;],[&#39;萧十一郎&#39;,&#39;21&#39;,&#39;Male&#39;,&#39;武功好&#39;]]
        for i in range(len(items)):
            each_item = items[i]
            row = self.tableWidget.rowCount()
            self.tableWidget.insertRow(row)
            for j in range(len(each_item)):
                item = QTableWidgetItem(str(items[i][j]))
                if j != len(each_item) -1:
                    item.setTextAlignment(Qt.AlignHCenter | Qt.AlignVCenter)
                    item.setForeground(QBrush(QColor(255,0,0)))
                else:
                    item.setBackground(QBrush(QColor(0,255,0)))
                self.tableWidget.setItem(row,j,item)

        self.tableWidget.setSpan(1,2,3,2)

if __name__ == &quot;__main__&quot;:
    app = QApplication(sys.argv)
    myWin = MyMainForm()
    myWin.show()
    sys.exit(app.exec_())
</code></pre>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本章描述PyQt5的QTableWidget控件的基本使用方法和效果，界面实现建议还是desiger设计工具实现，同时使用业务和逻辑相分离的方式编写程序，都揉在一块后面程序就不好维护，毕竟没有谁的工具实现是可以一蹴而就的，还是要考虑可维护性。读完本文内容相信读者就可以上手使用QTableWidget控件了。</p>
<h1 id="第8章-PyQt5中多线程模块QThread使用方法"><a href="#第8章-PyQt5中多线程模块QThread使用方法" class="headerlink" title="第8章 PyQt5中多线程模块QThread使用方法"></a>第8章 PyQt5中多线程模块QThread使用方法</h1><p>本文主要讲解使用多线程模块QThread解决PyQt界面程序唉执行耗时操作时，程序卡顿出现的无响应以及界面输出无法实时显示的问题。用户使用工具过程中出现这些问题时会误以为程序出错，从而把程序关闭。这样，导致工具的用户使用体验不好。下面我们通过模拟上述出现的问题并讲述使用多线程QThread模块解决此类问题的方法。</p>
<h2 id="PyQt程序卡顿和无法实时显示问题现象"><a href="#PyQt程序卡顿和无法实时显示问题现象" class="headerlink" title="PyQt程序卡顿和无法实时显示问题现象"></a>PyQt程序卡顿和无法实时显示问题现象</h2><p>使用PyQt实现在文本框中每秒打印1个数字。程序代码如下（QThread_Example_UI.py和QThread_Example_UI.ui见附录）：</p>
<p>[<img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/copycode.gif" loading="lazy" alt="复制代码">](javascript:void(0)😉</p>
<pre><code># -*- coding: utf-8 -*-

import sys
import time
from PyQt5.QtCore import QThread, pyqtSignal
from PyQt5.QtWidgets import QApplication, QMainWindow
from QThread_Example_UI import Ui_Form

class MyMainForm(QMainWindow, Ui_Form):
    def __init__(self, parent=None):
        super(MyMainForm, self).__init__(parent)
        self.setupUi(self)
        self.runButton.clicked.connect(self.display)

    def display(self):
        for i in range(20):
            time.sleep(1)
            self.listWidget.addItem(str(i))

if __name__ == &quot;__main__&quot;:
    app = QApplication(sys.argv)
    myWin = MyMainForm()
    myWin.show()
    sys.exit(app.exec_())
</code></pre>
<p>[<img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/copycode.gif" loading="lazy" alt="复制代码">](javascript:void(0)😉</p>
<p>程序运行过程结果如下（点击Run按钮后界面出现<strong>未响应</strong>字样<strong>，</strong>同时程序也没有出现每隔1秒打印1个数字，实际结果是循环结束后20个数字一同展示）：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20200129111557526-1040188893.png" loading="lazy" alt="img"><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20200129114819482-10987377.png" loading="lazy" alt="img"></p>
<p><strong>问题分析</strong></p>
<p>上述实现的GUI程序都是单线程运行，对于需要执行一个特别耗时的操作时就会出现该问题现象。要解决这种问题可以考虑使用多线程模块QThread。</p>
<h2 id="多线程模块QThread基本原理"><a href="#多线程模块QThread基本原理" class="headerlink" title="多线程模块QThread基本原理"></a>多线程模块QThread基本原理</h2><p>QThread是Qt的线程类中最核心的底层类。由于PyQt的的跨平台特性，QThread要隐藏所有与平台相关的代码<br>要使用的QThread开始一个线程，可以创建它的一个子类，然后覆盖其它QThread.run()函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Thread</span>(<span class="title class_ inherited__">QThread</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Thread,self).__init__()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>接下来创建一个新的线程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">thread = Thread()</span><br><span class="line">thread.start()</span><br></pre></td></tr></table></figure>

<p>可以看出，PyQt的线程使用非常简单，建立一个自定义的类（如Thread），自我继承自QThread<br>，并实现其run()方法即可。在使用线程时可以直接得到Thread实例，调用其start()函数即可启动线程，线程启动之后，会自动调用其实现的run()的函数，该方法就是线程的执行函数<br>。</p>
<p>业务的线程任务就写在run()函数中，当run()退出之后线程就基本结束了，QThread有started和finished信号，可以为这两个信号指定槽函数，在线程启动和结束之时执行一段代码进行资源的初始化和释放操作，更灵活的使用方法是，在自定义的QThread实例中自定义信号，并将信号连接到指定的槽函数，当满足一定的业务条件时发射此信号。</p>
<h3 id="QThread类中的常用方法"><a href="#QThread类中的常用方法" class="headerlink" title="QThread类中的常用方法"></a>QThread类中的常用方法</h3><p><strong>start()：</strong>启动线程</p>
<p><strong>wait()：</strong>阻止线程，直到满足如下条件之一</p>
<p>（1）与此QThread对象关联的线程已完成执行（即从run返回时），如果线程完成执行，此函数返回True，如果线程尚未启动，也返回True</p>
<p>（2）等待时间的单位是毫秒，如果时间是ULONG_MAX（默认值·），则等待，永远不会超时(线程必须从run返回），如果等待超时，此函数将会返回False</p>
<p><strong>sleep()：</strong>强制当前线程睡眠多少秒</p>
<p><strong>QThread类中的常用信号</strong></p>
<p><strong>started：</strong>在开始执行run函数之前，从相关线程发射此信号</p>
<p><strong>finished：</strong>当程序完成业务逻辑时，从相关线程发射此信号</p>
<h2 id="使用QThread重新实现程序解决问题"><a href="#使用QThread重新实现程序解决问题" class="headerlink" title="使用QThread重新实现程序解决问题"></a>使用QThread重新实现程序解决问题</h2><p>先继承QThread类创建多线程，使用主线程更新界面，使用子线程实时处理数据（重写run()函数，将耗时的操作放入run()函数中），最后将结果显示到界面上。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QThread, pyqtSignal</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow</span><br><span class="line"><span class="keyword">from</span> QThread_Example_UI <span class="keyword">import</span> Ui_Form</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainForm</span>(QMainWindow, Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MyMainForm, self).__init__(parent)</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        <span class="comment"># 实例化线程对象</span></span><br><span class="line">        self.work = WorkThread()</span><br><span class="line">        self.runButton.clicked.connect(self.execute)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">execute</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 启动线程</span></span><br><span class="line">        self.work.start()</span><br><span class="line">        <span class="comment"># 线程自定义信号连接的槽函数</span></span><br><span class="line">        self.work.trigger.connect(self.display)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">display</span>(<span class="params">self,<span class="built_in">str</span></span>):</span><br><span class="line">        <span class="comment"># 由于自定义信号时自动传递一个字符串参数，所以在这个槽函数中要接受一个参数</span></span><br><span class="line">        self.listWidget.addItem(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WorkThread</span>(<span class="title class_ inherited__">QThread</span>):</span><br><span class="line">    <span class="comment"># 自定义信号对象。参数str就代表这个信号可以传一个字符串</span></span><br><span class="line">    trigger = pyqtSignal(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__int__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 初始化函数</span></span><br><span class="line">        <span class="built_in">super</span>(WorkThread, self).__init__()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">#重写线程执行的run函数</span></span><br><span class="line">        <span class="comment">#触发自定义信号</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># 通过自定义信号把待显示的字符串传递给槽函数</span></span><br><span class="line">            self.trigger.emit(<span class="built_in">str</span>(i))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    myWin = MyMainForm()</span><br><span class="line">    myWin.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<p>程序运行结果如下（实现了每隔1秒打印1个数字）：</p>
<p><img src="https://picture0717.oss-cn-beijing.aliyuncs.com/img/774327-20200129122713439-550917878.png" loading="lazy" alt="img"></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>如果你实现的工具需要执行特别耗时的操作，可以参考使用本文多线程QThread处理方法实现。当然，工具实际实现过程中的场景会比这复杂。比如，你的输出并不是有固定时间间隔输出的文本框，可以尝试使用多次self.trigger.emit(str)方法进行操作。</p>
<h2 id="附录-1"><a href="#附录-1" class="headerlink" title="附录"></a>附录</h2><p>1、使用pyuic5转换界面.ui程序后的QThread_Example_UI.py代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Form</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        Form.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        Form.resize(<span class="number">498</span>, <span class="number">331</span>)</span><br><span class="line">        self.runButton = QtWidgets.QPushButton(Form)</span><br><span class="line">        self.runButton.setGeometry(QtCore.QRect(<span class="number">190</span>, <span class="number">30</span>, <span class="number">75</span>, <span class="number">23</span>))</span><br><span class="line">        self.runButton.setObjectName(<span class="string">&quot;runButton&quot;</span>)</span><br><span class="line">        self.listWidget = QtWidgets.QListWidget(Form)</span><br><span class="line">        self.listWidget.setGeometry(QtCore.QRect(<span class="number">30</span>, <span class="number">70</span>, <span class="number">431</span>, <span class="number">192</span>))</span><br><span class="line">        self.listWidget.setObjectName(<span class="string">&quot;listWidget&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.retranslateUi(Form)</span><br><span class="line">        QtCore.QMetaObject.connectSlotsByName(Form)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params">self, Form</span>):</span><br><span class="line">        _translate = QtCore.QCoreApplication.translate</span><br><span class="line">        Form.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Qthread Example&quot;</span>))</span><br><span class="line">        self.runButton.setText(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Run&quot;</span>))</span><br></pre></td></tr></table></figure>

<p>2、Qtdesigner设计的界面源程序代码QThread_Example_UI.ui如下：</p>
<p>&#96;&#96;&#96; python<br><?xml version="1.0" encoding="UTF-8"?><br><ui version="4.0"><br> <class>Form</class><br> <widget class="QWidget" name="Form"><br>  <property name="geometry"><br>   <rect></rect><br>    <x>0</x><br>    <y>0</y><br>    <width>498</width><br>    <height>331</height><br>   <br>  </property><br>  <property name="windowTitle"><br>   <string>Qthread Example</string><br>  </property><br>  <widget class="QPushButton" name="runButton"><br>   <property name="geometry"><br>    <rect></rect><br>     <x>190</x><br>     <y>30</y><br>     <width>75</width><br>     <height>23</height><br>    <br>   </property><br>   <property name="text"><br>    <string>Run</string><br>   </property><br>  </widget><br>  <widget class="QListWidget" name="listWidget"><br>   <property name="geometry"><br>    <rect></rect><br>     <x>30</x><br>     <y>70</y><br>     <width>431</width><br>     <height>192</height><br>    <br>   </property><br>  </widget><br> </widget><br> <resources><br> <connections><br></connections></resources></ui></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://sunk15.top">sunk</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://sunk15.top/2024/11/22/PyQt/PyQt%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">http://sunk15.top/2024/11/22/PyQt/PyQt%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://sunk15.top" target="_blank">DDUP</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/pyqt/">pyqt</a></div><div class="post_share"><div class="social-share" data-image="https://picx.zhimg.com/80/v2-96a3fc0d74273c820e905b571e13c2b4_1440w.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/12/30/reverse/reverse_tools/" title=""><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2023/04/07/optee/optee/" title="tee站点收藏"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">tee站点收藏</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://picx.zhimg.com/80/v2-96a3fc0d74273c820e905b571e13c2b4_1440w.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">sunk</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">近水知鱼性，近山识鸟音。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-PyQt5%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%92%8C%E9%85%8D%E7%BD%AE"><span class="toc-text">第1章 PyQt5开发环境搭建和配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E6%96%87%E5%86%85%E5%AE%B9"><span class="toc-text">本文内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9PyQt%E5%8E%9F%E5%9B%A0"><span class="toc-text">选择PyQt原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9Python3%E5%92%8CPyQt5%E5%8E%9F%E5%9B%A0"><span class="toc-text">选择Python3和PyQt5原因</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python3-X%E8%BD%AF%E4%BB%B6%E5%92%8CPyQt5%E5%AE%89%E8%A3%85"><span class="toc-text">Python3.X软件和PyQt5安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PyQt5%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85"><span class="toc-text">PyQt5工具安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PyCharm%E9%85%8D%E7%BD%AEQt-Designer"><span class="toc-text">PyCharm配置Qt Designer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80designer%E5%92%8C%E8%BD%AC%E6%8D%A2-ui%E6%96%87%E4%BB%B6"><span class="toc-text">命令行打开designer和转换.ui文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-PyQt%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86Qt-Designer"><span class="toc-text">第2章 PyQt窗口布局管理Qt Designer</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E6%89%93%E5%BC%80%E6%96%B9%E6%B3%95"><span class="toc-text">布局管理打开方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E7%A7%8D%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text">四种布局管理介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%B8%83%E5%B1%80"><span class="toc-text">嵌套布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86"><span class="toc-text">绝对布局管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86"><span class="toc-text">其他布局管理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-PyQt5%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="toc-text">第3章 PyQt5信号与槽</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD"><span class="toc-text">内置信号和槽</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">内置信号和槽使用实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt-Designer%E6%B7%BB%E5%8A%A0%E6%8E%A7%E4%BB%B6%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="toc-text">Qt Designer添加控件信号与槽</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-PyQt5%E5%9F%BA%E6%9C%AC%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8-%E5%8D%95%E9%80%89%E6%8C%89%E9%92%AE%E3%80%81%E5%A4%8D%E9%80%89%E6%A1%86%E3%80%81%E4%B8%8B%E6%8B%89%E6%A1%86%E3%80%81%E6%96%87%E6%9C%AC%E6%A1%86"><span class="toc-text">第4章 PyQt5基本控件使用:单选按钮、复选框、下拉框、文本框</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#QRadioButton%E5%8D%95%E9%80%89%E6%8C%89%E9%92%AE"><span class="toc-text">QRadioButton单选按钮</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RadioButton%E7%A4%BA%E4%BE%8B%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">RadioButton示例完整代码如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">运行结果如下：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QCheckBox%E5%A4%8D%E9%80%89%E6%A1%86"><span class="toc-text">QCheckBox复选框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CheckBox%E4%BE%8B%E5%AD%90%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">CheckBox例子完整代码如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A-1"><span class="toc-text">运行结果如下：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QComboBox%E4%B8%8B%E6%8B%89%E5%88%97%E8%A1%A8%E6%A1%86"><span class="toc-text">QComboBox下拉列表框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ComboBox%E7%A4%BA%E4%BE%8B%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">ComboBox示例完整代码如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A-2"><span class="toc-text">运行结果如下：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%A1%86%E6%8E%A7%E4%BB%B6%EF%BC%88QLineEdit%E3%80%81QTextEdit%EF%BC%89"><span class="toc-text">文本框控件（QLineEdit、QTextEdit）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%A1%86%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">文本框使用实例如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%EF%BC%9A-3"><span class="toc-text">运行结果如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">关键代码如下：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-PyQt5%E5%9F%BA%E6%9C%AC%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8-%E6%B6%88%E6%81%AF%E5%BC%B9%E5%87%BA%E3%80%81%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E3%80%81%E6%96%87%E4%BB%B6-x2F-%E7%9B%AE%E5%BD%95%E9%80%89%E6%8B%A9%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">第5章 PyQt5基本控件使用:消息弹出、用户输入、文件&#x2F;目录选择对话框</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#QMessageBox%EF%BC%9A%E5%BC%B9%E5%87%BA%E6%B6%88%E6%81%AF%E5%AF%B9%E8%AF%9D%E6%A1%86%E6%8E%A7%E4%BB%B6"><span class="toc-text">QMessageBox：弹出消息对话框控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E7%A7%8D%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B6%88%E6%81%AF%E5%AF%B9%E8%AF%9D%E6%A1%86%E5%8F%8A%E5%85%B6%E6%98%BE%E7%A4%BA%E6%95%88%E6%9E%9C"><span class="toc-text">5种常用的消息对话框及其显示效果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%B6%88%E6%81%AF%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%91%8A%E8%AF%89%E7%94%A8%E6%88%B7%E5%85%B3%E4%BA%8E%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF"><span class="toc-text">（1）消息对话框，用来告诉用户关于提示信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%8F%90%E9%97%AE%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%91%8A%E8%AF%89%E7%94%A8%E6%88%B7%E5%85%B3%E4%BA%8E%E6%8F%90%E9%97%AE%E6%B6%88%E6%81%AF%E3%80%82"><span class="toc-text">（2）提问对话框，用来告诉用户关于提问消息。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AD%A6%E5%91%8A%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%91%8A%E8%AF%89%E7%94%A8%E6%88%B7%E5%85%B3%E4%BA%8E%E4%B8%8D%E5%AF%BB%E5%B8%B8%E7%9A%84%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF%E3%80%82"><span class="toc-text">（3）警告对话框，用来告诉用户关于不寻常的错误消息。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E4%B8%A5%E9%87%8D%E9%94%99%E8%AF%AF%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%91%8A%E8%AF%89%E7%94%A8%E6%88%B7%E5%85%B3%E4%BA%8E%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%E7%9A%84%E4%B8%A5%E9%87%8D%E7%9A%84%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF%E3%80%82"><span class="toc-text">（4）严重错误对话框，用来告诉用户关于程序执行失败的严重的错误消息。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E5%85%B3%E4%BA%8E%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">（5）关于对话框</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%88%E9%A1%BA%E5%BA%8F%E5%BC%B9%E5%87%BA%E4%BB%A5%E4%B8%8B%E6%B6%88%E6%81%AF%E6%A1%86%EF%BC%89%E3%80%82"><span class="toc-text">运行结果（顺序弹出以下消息框）。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81"><span class="toc-text">关键代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QInputDialog%E6%A0%87%E5%87%86%E5%AF%B9%E8%AF%9D%E6%A1%86%E6%8E%A7%E4%BB%B6"><span class="toc-text">QInputDialog标准对话框控件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%88%E4%BB%A3%E7%A0%81%E5%8F%AF%E7%9B%B4%E6%8E%A5%E5%A4%8D%E5%88%B6%E8%BF%90%E8%A1%8C%EF%BC%89%EF%BC%9A"><span class="toc-text">完整代码如下（代码可直接复制运行）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-text">关键代码介绍：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QFileDialog-%E6%96%87%E4%BB%B6-x2F-%E7%9B%AE%E5%BD%95%E9%80%89%E6%8B%A9%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">QFileDialog 文件&#x2F;目录选择对话框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">完整代码如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E4%BB%8B%E7%BB%8D"><span class="toc-text">关键代码介绍</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-PyQt-socket%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9C%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">第6章 PyQt+socket实现远程操作服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%86%85%E5%AE%B9"><span class="toc-text">需求内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E8%AE%BE%E8%AE%A1"><span class="toc-text">需求设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E8%AE%BE%E8%AE%A1-1"><span class="toc-text">需求设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7"><span class="toc-text">开发工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%EF%BC%88%E7%A8%8B%E5%BA%8F%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E5%A4%8D%E5%88%B6%E8%BF%90%E8%A1%8C%EF%BC%89"><span class="toc-text">代码实现（程序可以直接复制运行）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81-1"><span class="toc-text">关键代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95"><span class="toc-text">附录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0%E7%9A%84%E6%80%BB%E7%BB%93"><span class="toc-text">第6章的总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-PyQt5%E4%B8%AD%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6QTableWidget%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">第7章 PyQt5中数据表格控件QTableWidget使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#QTableWidget%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">QTableWidget常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QTableWidget%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">QTableWidget使用实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QTableWidget%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">QTableWidget函数使用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-PyQt5%E4%B8%AD%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9D%97QThread%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">第8章 PyQt5中多线程模块QThread使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PyQt%E7%A8%8B%E5%BA%8F%E5%8D%A1%E9%A1%BF%E5%92%8C%E6%97%A0%E6%B3%95%E5%AE%9E%E6%97%B6%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E7%8E%B0%E8%B1%A1"><span class="toc-text">PyQt程序卡顿和无法实时显示问题现象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9D%97QThread%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-text">多线程模块QThread基本原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QThread%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">QThread类中的常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8QThread%E9%87%8D%E6%96%B0%E5%AE%9E%E7%8E%B0%E7%A8%8B%E5%BA%8F%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98"><span class="toc-text">使用QThread重新实现程序解决问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-text">小结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95-1"><span class="toc-text">附录</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By sunk</div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"></div><script src="https://cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>